(self.webpackChunkmusic=self.webpackChunkmusic||[]).push([[266],{9396:function(n,t,e){"use strict";var r=e(4569),i=e.n(r)().create({baseURL:"http://localhost:3000/",timeout:5e3,responseType:"json",withCredentials:!0,crossDomain:!0,headers:{"Content-Type":"application/json;charset=utf-8"}});i.interceptors.response.use((function(n){return n.data}),(function(n){return n})),t.Z=i},5232:function(n,t,e){"use strict";var r,i=e(168),o=e(5751),a=e(184),c=o.ZP.span(r||(r=(0,i.Z)(["\n  font-size: ",";\n  color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 2px;\n"])),(function(n){return n.data.fontSize}),(function(n){return n.data.color}));t.Z=function(n){var t=n.name,e=n.fontSize,r=void 0===e?"14px":e,i=n.color,o=void 0===i?"#fff":i;return(0,a.jsx)(c,{data:{fontSize:r,color:o},children:(0,a.jsx)("ion-icon",{name:t})})}},4717:function(n,t,e){"use strict";e.d(t,{E:function(){return c},d:function(){return u}});var r=e(8152),i=e(6871),o=e(2791),a=e(184);function c(n){return function(t){var e=(0,i.TH)(),r=(0,i.UO)(),o=(0,i.s0)();return(0,a.jsx)(n,{location:e,params:r,navigate:o})}}function u(n){var t=(0,o.useState)(!1),e=(0,r.Z)(t,2),i=e[0],a=e[1];return(0,o.useEffect)((function(){if(0!==n.length){var t=n.map((function(n){return new Promise((function(t,e){var r=new Image;r.onload=function(){r.onload=null,t(r)},r.error=function(){e(new Error("\u56fe\u7247\u52a0\u8f7d\u5931\u8d25"))},r.src=n}))}));Promise.all(t).then((function(n){a(!0)}))}}),[n]),0!==n.length&&i}},9266:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return Y}});var r,i,o,a,c,u,l,s,f,p,d,h,v=e(5861),m=e(4942),g=e(5671),x=e(3144),y=e(9340),b=e(5716),Z=e(7757),w=e.n(Z),j=e(2791),P=e(1316),C=e.n(P),k=e(168),L=e(5751),O=L.ZP.div(r||(r=(0,k.Z)(["\n  width: 100%;\n  padding: 30px;\n  overflow: auto;\n  scrollbar-width: none;\n  &::-webkit-scrollbar {\n    display: none; /* Chrome Safari */\n  }\n"]))),S=L.ZP.div(i||(i=(0,k.Z)(["\n  position: relative;\n  height: 40px;\n"]))),D=L.ZP.div(o||(o=(0,k.Z)(["\n  width: 100%;\n  font-size: 14px;\n"]))),R=L.ZP.div(a||(a=(0,k.Z)(["\n  display: flex;\n  width: 100%;\n  margin-bottom: 10px;\n"]))),E=L.ZP.div(c||(c=(0,k.Z)(["\n  width: 60px;\n"]))),z=L.ZP.div(u||(u=(0,k.Z)(["\n  display: flex;\n  /* grid-template-columns: repeat(auto-fill, 100px); */\n  width: 100%;\n  flex: 1;\n  flex-wrap: wrap;\n"]))),_=L.ZP.div(l||(l=(0,k.Z)(["\n  display: flex;\n  font-size: 12px;\n  padding: 0 15px;\n  cursor: default;\n  user-select: none;\n  height: 20px;\n  background-color: rgba(155, 178, 210, .2);\n  align-items: center;\n  border-radius: 10px;\n  margin-right: 10px;\n  margin-bottom: 15px;\n  &:hover {\n    background-color: rgba(155, 178, 210, .6);\n  }\n  &.active {\n    background-color: rgba(155, 178, 210, .6);\n  }\n"]))),B=L.ZP.div(s||(s=(0,k.Z)(["\n  min-height: 200px;\n  display: grid;\n  width: 100%;\n  grid-template-columns: repeat(5, 170px);\n  justify-content: space-between;\n  grid-column-gap: 15px;\n  grid-row-gap: 30px;\n  font-size: 14px;\n"]))),T=L.ZP.div(f||(f=(0,k.Z)(["\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  user-select: none;\n  cursor: pointer;\n"]))),U=L.ZP.img(p||(p=(0,k.Z)(["\n  width: 100%;\n  height: 170px;\n  margin-bottom: 5px;\n  border-radius: 8px;\n"]))),I=L.ZP.div(d||(d=(0,k.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),N=L.ZP.div(h||(h=(0,k.Z)([""]))),A=[{label:"\u5168\u90e8",value:-1},{label:"\u7537\u6b4c\u624b",value:1},{label:"\u5973\u6b4c\u624b",value:2},{label:"\u4e50\u961f",value:3}],H=[{label:"\u5168\u90e8",value:-1},{label:"\u534e\u8bed",value:7},{label:"\u6b27\u7f8e",value:96},{label:"\u65e5\u672c",value:8},{label:"\u97e9\u56fd",value:16},{label:"\u5176\u4ed6",value:0}],M=["\u70ed\u95e8","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","#"],W=e(184);var F=function(n){var t=n.type,e=n.area,r=n.initial,i=n.onChange;return(0,W.jsxs)(D,{children:[(0,W.jsxs)(R,{children:[(0,W.jsx)(E,{children:"\u8bed\u79cd\uff1a"}),(0,W.jsx)(z,{children:H.map((function(n){return(0,W.jsx)(_,{className:e===n.value&&"active",onClick:function(){i("area",n.value)},children:n.label},n.value)}))})]}),(0,W.jsxs)(R,{children:[(0,W.jsx)(E,{children:"\u5206\u7c7b\uff1a"}),(0,W.jsx)(z,{children:A.map((function(n){return(0,W.jsx)(_,{className:t===n.value&&"active",onClick:function(){i("type",n.value)},children:n.label},n.value)}))})]}),(0,W.jsxs)(R,{children:[(0,W.jsx)(E,{children:"\u7b5b\u9009\uff1a"}),(0,W.jsx)(z,{children:M.map((function(n){var t="";return t="\u70ed\u95e8"!==n&&"#"!==n?n.toLowerCase():"\u70ed\u95e8"===n?-1:"#"===n?0:-1,(0,W.jsx)(_,{className:r===t&&"active",onClick:function(){i("initial",t)},children:n},t)}))})]})]})},G=e(1241),J=e(9396),K=e(6871),Q=e(5232);var V=function(n){var t=n.list,e=(0,K.s0)();return(0,W.jsx)(B,{children:t.map((function(n){return(0,W.jsxs)(T,{onClick:function(){e("/singerDetail/".concat(n.id))},children:[(0,W.jsx)(U,{src:n.img1v1Url}),(0,W.jsxs)(I,{children:[(0,W.jsx)(N,{children:n.name}),n.accountId&&(0,W.jsx)(Q.Z,{name:"person-circle",fontSize:"16px",color:"#9BB2D2"})]})]},n.id)}))})},X=(e(4717),function(n){(0,y.Z)(e,n);var t=(0,b.Z)(e);function e(n){var r;return(0,g.Z)(this,e),(r=t.call(this,n)).optionsOnChange=function(n,t){r.state[n]!==t&&r.setState((function(){var e;return e={},(0,m.Z)(e,"".concat(n),t),(0,m.Z)(e,"list",[]),e}),(function(){r.getList()}))},r.state={type:-1,area:-1,initial:-1,list:[],loadingList:!0,showLoading:!0},r.loadingDom=(0,j.createRef)(),r.listDom=(0,j.createRef)(),r}return(0,x.Z)(e,[{key:"componentDidMount",value:function(){var n=this,t=this.listDom,e=this.loadingDom;this.getList(),t.current.onscroll=function(){var r=t.current.getBoundingClientRect().top;e.current.getBoundingClientRect().top-r-630<0&&n.debounceLoadList()}}},{key:"componentWillUnmount",value:function(){this.listDom.current.onscroll=null}},{key:"getList",value:function(){var n=(0,v.Z)(w().mark((function n(){var t,e,r,i,o,a,c,u,l,s;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=this.state,e=t.type,r=t.area,i=t.initial,o=t.list,n.next=3,J.Z.get("/artist/list",{params:{limit:15,offset:o.length,type:e,area:r,initial:i}});case 3:return a=n.sent,c=a.artists,u=a.more,l=c.map((function(n){return new Promise((function(t,e){var r=new Image;r.onload=function(){r.onload=null,t(r)},r.error=function(){e(new Error("\u56fe\u7247\u52a0\u8f7d\u5931\u8d25"))},r.src=n.img1v1Url}))})),n.next=9,Promise.all(l);case 9:s=C()(o,c),u||(this.listDom.current.onscroll=null),this.setState((function(){return{list:s,loadingList:!0,showLoading:u}}));case 12:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"debounceLoadList",value:function(){this.state.loadingList&&this.setState((function(){return{loadingList:!1}}),this.getList)}},{key:"render",value:function(){var n=this.state,t=n.type,e=n.area,r=n.initial,i=n.showLoading,o=n.list;return(0,W.jsxs)(O,{ref:this.listDom,children:[(0,W.jsx)(F,{type:t,area:e,initial:r,onChange:this.optionsOnChange}),(0,W.jsx)(V,{list:o}),i&&(0,W.jsx)(S,{ref:this.loadingDom,children:(0,W.jsx)(G.Z,{})})]})}}]),e}(j.Component)),Y=X},5182:function(n,t,e){var r=e(1705),i=e(3529);n.exports=function n(t,e,o,a,c){var u=-1,l=t.length;for(o||(o=i),c||(c=[]);++u<l;){var s=t[u];e>0&&o(s)?e>1?n(s,e-1,o,a,c):r(c,s):a||(c[c.length]=s)}return c}},291:function(n){n.exports=function(n,t){var e=-1,r=n.length;for(t||(t=Array(r));++e<r;)t[e]=n[e];return t}},3529:function(n,t,e){var r=e(7197),i=e(4963),o=e(3629),a=r?r.isConcatSpreadable:void 0;n.exports=function(n){return o(n)||i(n)||!!(a&&n&&n[a])}},1316:function(n,t,e){var r=e(1705),i=e(5182),o=e(291),a=e(3629);n.exports=function(){var n=arguments.length;if(!n)return[];for(var t=Array(n-1),e=arguments[0],c=n;c--;)t[c-1]=arguments[c];return r(a(e)?o(e):[e],i(t,1))}},5671:function(n,t,e){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}e.d(t,{Z:function(){return r}})},3144:function(n,t,e){"use strict";function r(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function i(n,t,e){return t&&r(n.prototype,t),e&&r(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}e.d(t,{Z:function(){return i}})},5716:function(n,t,e){"use strict";function r(n){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},r(n)}function i(n){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i(n)}function o(n,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function a(n){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,i=r(n);if(t){var a=r(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return o(this,e)}}e.d(t,{Z:function(){return a}})},9340:function(n,t,e){"use strict";function r(n,t){return r=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},r(n,t)}function i(n,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&r(n,t)}e.d(t,{Z:function(){return i}})}}]);
//# sourceMappingURL=266.4afe6500.chunk.js.map