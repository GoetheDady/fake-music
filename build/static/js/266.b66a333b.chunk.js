(self.webpackChunkmusic=self.webpackChunkmusic||[]).push([[266],{4717:function(n,t,e){"use strict";e.d(t,{E:function(){return l},d:function(){return s}});var i=e(885),r=e(6871),a=e(2791),o=e(184);function l(n){return function(t){var e=(0,r.TH)(),i=(0,r.UO)(),a=(0,r.s0)();return(0,o.jsx)(n,{location:e,params:i,navigate:a})}}function s(n){var t=(0,a.useState)(!1),e=(0,i.Z)(t,2),r=e[0],o=e[1];return(0,a.useEffect)((function(){if(0!==n.length){var t=n.map((function(n){return new Promise((function(t,e){var i=new Image;i.onload=function(){i.onload=null,t(i)},i.error=function(){e(new Error("\u56fe\u7247\u52a0\u8f7d\u5931\u8d25"))},i.src=n}))}));Promise.all(t).then((function(n){o(!0)}))}}),[n]),0!==n.length&&r}},9266:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return q}});var i,r,a,o,l,s,c,u,d,f,p,h,v=e(5861),g=e(4942),x=e(5671),m=e(3144),Z=e(9340),b=e(5716),w=e(7757),j=e.n(w),y=e(2791),k=e(1316),C=e.n(k),L=e(168),P=e(5751),D=P.ZP.div(i||(i=(0,L.Z)(["\n  width: 100%;\n  padding: 30px;\n  overflow: auto;\n  scrollbar-width: none;\n  &::-webkit-scrollbar {\n    display: none; /* Chrome Safari */\n  }\n"]))),S=P.ZP.div(r||(r=(0,L.Z)(["\n  position: relative;\n  height: 40px;\n"]))),B=P.ZP.div(a||(a=(0,L.Z)(["\n  width: 100%;\n  font-size: 14px;\n"]))),E=P.ZP.div(o||(o=(0,L.Z)(["\n  display: flex;\n  width: 100%;\n  margin-bottom: 10px;\n"]))),R=P.ZP.div(l||(l=(0,L.Z)(["\n  width: 60px;\n"]))),U=P.ZP.div(s||(s=(0,L.Z)(["\n  display: flex;\n  /* grid-template-columns: repeat(auto-fill, 100px); */\n  width: 100%;\n  flex: 1;\n  flex-wrap: wrap;\n"]))),z=P.ZP.div(c||(c=(0,L.Z)(["\n  display: flex;\n  font-size: 12px;\n  padding: 0 15px;\n  cursor: default;\n  user-select: none;\n  height: 20px;\n  background-color: rgba(155, 178, 210, .2);\n  align-items: center;\n  border-radius: 10px;\n  margin-right: 10px;\n  margin-bottom: 15px;\n  &:hover {\n    background-color: rgba(155, 178, 210, .6);\n  }\n  &.active {\n    background-color: rgba(155, 178, 210, .6);\n  }\n"]))),I=P.ZP.div(u||(u=(0,L.Z)(["\n  min-height: 200px;\n  display: grid;\n  width: 100%;\n  grid-template-columns: repeat(5, 170px);\n  justify-content: space-between;\n  grid-column-gap: 15px;\n  grid-row-gap: 30px;\n  font-size: 14px;\n"]))),N=P.ZP.div(d||(d=(0,L.Z)(["\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  user-select: none;\n  cursor: pointer;\n"]))),O=P.ZP.img(f||(f=(0,L.Z)(["\n  width: 100%;\n  height: 170px;\n  margin-bottom: 5px;\n  border-radius: 8px;\n"]))),A=P.ZP.div(p||(p=(0,L.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),H=P.ZP.div(h||(h=(0,L.Z)([""]))),M=[{label:"\u5168\u90e8",value:-1},{label:"\u7537\u6b4c\u624b",value:1},{label:"\u5973\u6b4c\u624b",value:2},{label:"\u4e50\u961f",value:3}],T=[{label:"\u5168\u90e8",value:-1},{label:"\u534e\u8bed",value:7},{label:"\u6b27\u7f8e",value:96},{label:"\u65e5\u672c",value:8},{label:"\u97e9\u56fd",value:16},{label:"\u5176\u4ed6",value:0}],W=["\u70ed\u95e8","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","#"],F=e(184);var G=function(n){var t=n.type,e=n.area,i=n.initial,r=n.onChange;return(0,F.jsxs)(B,{children:[(0,F.jsxs)(E,{children:[(0,F.jsx)(R,{children:"\u8bed\u79cd\uff1a"}),(0,F.jsx)(U,{children:T.map((function(n){return(0,F.jsx)(z,{className:e===n.value&&"active",onClick:function(){r("area",n.value)},children:n.label},n.value)}))})]}),(0,F.jsxs)(E,{children:[(0,F.jsx)(R,{children:"\u5206\u7c7b\uff1a"}),(0,F.jsx)(U,{children:M.map((function(n){return(0,F.jsx)(z,{className:t===n.value&&"active",onClick:function(){r("type",n.value)},children:n.label},n.value)}))})]}),(0,F.jsxs)(E,{children:[(0,F.jsx)(R,{children:"\u7b5b\u9009\uff1a"}),(0,F.jsx)(U,{children:W.map((function(n){var t="";return t="\u70ed\u95e8"!==n&&"#"!==n?n.toLowerCase():"\u70ed\u95e8"===n?-1:"#"===n?0:-1,(0,F.jsx)(z,{className:i===t&&"active",onClick:function(){r("initial",t)},children:n},t)}))})]})]})},J=e(1241),K=e(9396),Q=e(6871),V=e(5232);var X=function(n){var t=n.list,e=(0,Q.s0)();return(0,F.jsx)(I,{children:t.map((function(n){return(0,F.jsxs)(N,{onClick:function(){e("/singerDetail/".concat(n.id))},children:[(0,F.jsx)(O,{src:n.img1v1Url}),(0,F.jsxs)(A,{children:[(0,F.jsx)(H,{children:n.name}),n.accountId&&(0,F.jsx)(V.Z,{name:"person-circle",fontSize:"16px",color:"#9BB2D2"})]})]},n.id)}))})},Y=(e(4717),function(n){(0,Z.Z)(e,n);var t=(0,b.Z)(e);function e(n){var i;return(0,x.Z)(this,e),(i=t.call(this,n)).optionsOnChange=function(n,t){i.state[n]!==t&&i.setState((function(){var e;return e={},(0,g.Z)(e,"".concat(n),t),(0,g.Z)(e,"list",[]),e}),(function(){i.getList()}))},i.state={type:-1,area:-1,initial:-1,list:[],loadingList:!0,showLoading:!0},i.loadingDom=(0,y.createRef)(),i.listDom=(0,y.createRef)(),i}return(0,m.Z)(e,[{key:"componentDidMount",value:function(){var n=this,t=this.listDom,e=this.loadingDom;this.getList(),t.current.onscroll=function(){var i=t.current.getBoundingClientRect().top;e.current.getBoundingClientRect().top-i-630<0&&n.debounceLoadList()}}},{key:"componentWillUnmount",value:function(){this.listDom.current.onscroll=null}},{key:"getList",value:function(){var n=(0,v.Z)(j().mark((function n(){var t,e,i,r,a,o,l,s,c,u;return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=this.state,e=t.type,i=t.area,r=t.initial,a=t.list,n.next=3,K.Z.get("/artist/list",{params:{limit:15,offset:a.length,type:e,area:i,initial:r}});case 3:return o=n.sent,l=o.artists,s=o.more,c=l.map((function(n){return new Promise((function(t,e){var i=new Image;i.onload=function(){i.onload=null,t(i)},i.error=function(){e(new Error("\u56fe\u7247\u52a0\u8f7d\u5931\u8d25"))},i.src=n.img1v1Url}))})),n.next=9,Promise.all(c);case 9:u=C()(a,l),s||(this.listDom.current.onscroll=null),this.setState((function(){return{list:u,loadingList:!0,showLoading:s}}));case 12:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"debounceLoadList",value:function(){this.state.loadingList&&this.setState((function(){return{loadingList:!1}}),this.getList)}},{key:"render",value:function(){var n=this.state,t=n.type,e=n.area,i=n.initial,r=n.showLoading,a=n.list;return(0,F.jsxs)(D,{ref:this.listDom,children:[(0,F.jsx)(G,{type:t,area:e,initial:i,onChange:this.optionsOnChange}),(0,F.jsx)(X,{list:a}),r&&(0,F.jsx)(S,{ref:this.loadingDom,children:(0,F.jsx)(J.Z,{})})]})}}]),e}(y.Component)),q=Y},5182:function(n,t,e){var i=e(1705),r=e(3529);n.exports=function n(t,e,a,o,l){var s=-1,c=t.length;for(a||(a=r),l||(l=[]);++s<c;){var u=t[s];e>0&&a(u)?e>1?n(u,e-1,a,o,l):i(l,u):o||(l[l.length]=u)}return l}},291:function(n){n.exports=function(n,t){var e=-1,i=n.length;for(t||(t=Array(i));++e<i;)t[e]=n[e];return t}},3529:function(n,t,e){var i=e(7197),r=e(4963),a=e(3629),o=i?i.isConcatSpreadable:void 0;n.exports=function(n){return a(n)||r(n)||!!(o&&n&&n[o])}},1316:function(n,t,e){var i=e(1705),r=e(5182),a=e(291),o=e(3629);n.exports=function(){var n=arguments.length;if(!n)return[];for(var t=Array(n-1),e=arguments[0],l=n;l--;)t[l-1]=arguments[l];return i(o(e)?a(e):[e],r(t,1))}}}]);
//# sourceMappingURL=266.b66a333b.chunk.js.map