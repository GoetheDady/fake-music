{"version":3,"file":"static/js/540.d63c5dc3.chunk.js","mappings":"oIAGMA,EAAUC,IAAAA,OAAa,CAC3BC,QAAS,yBACTC,QAAS,IACTC,aAAc,OACdC,iBAAiB,EACjBC,aAAa,EACbC,QAAS,CACP,eAAgB,oCAIpBP,EAAQQ,aAAaC,SAASC,KAC5B,SAACC,GAAD,OAASA,EAAIC,QACb,SAACC,GACC,MAAyEA,EAAjEJ,SAAR,IAAoBG,KAAQE,EAA5B,EAA4BA,KAAMC,EAAlC,EAAkCA,IAAcC,EAAhD,EAAuCC,QAAuBL,EAA9D,EAA8DA,KAQ9D,OAPa,MAATE,IACFG,EAAAA,EAAAA,IAAQ,CACNC,KAAM,QACNH,IAAAA,EACAE,QAASD,IAGNJ,KAIX,O,oLC3BMO,EAAgBC,EAAAA,GAAAA,IAAH,qQ,GAcIA,EAAAA,GAAAA,IAAH,sB,SCddC,EAAsBD,EAAAA,GAAAA,IAAH,2QAGC,SAACE,GAAD,OAAWA,EAAMC,cAUrCC,EAAqBJ,EAAAA,GAAAA,IAAH,oOAalBK,EAAoBL,EAAAA,GAAAA,IAAH,+HAQjBM,EAAqBN,EAAAA,GAAAA,IAAH,oCAIlBO,EAAoBP,EAAAA,GAAAA,IAAH,qPAajBQ,EAAqBR,EAAAA,GAAAA,KAAH,2GAOlBS,EAAqBT,EAAAA,GAAAA,IAAH,gDAIlBU,EAAqBV,EAAAA,GAAAA,IAAH,+EAKlBW,EAAmBX,EAAAA,GAAAA,IAAH,0CAIhBY,EAAkBZ,EAAAA,GAAAA,IAAH,+ZAoBfa,EAAuBb,EAAAA,GAAAA,IAAH,sBAEpBc,EAAsBd,EAAAA,GAAAA,IAAH,6LASnBe,EAA0Bf,EAAAA,GAAAA,IAAH,0BAIvBgB,EAAiBhB,EAAAA,GAAAA,IAAH,sJASdiB,EAAUjB,EAAAA,GAAAA,IAAH,+EAMPkB,EAAclB,EAAAA,GAAAA,IAAH,8TAaXmB,EAAWnB,EAAAA,GAAAA,IAAH,4CAIRoB,EAAgBpB,EAAAA,GAAAA,IAAH,yIASbqB,EAAarB,EAAAA,GAAAA,IAAH,2I,SC7GhB,MAjCA,SAAwBE,GACtB,IAAQoB,EAAoBpB,EAApBoB,gBACR,GAA4CC,EAAAA,EAAAA,UAAS,IAArD,eAAOC,EAAP,KAAuBC,EAAvB,KAGMC,EAAc,mCAAG,sGACY9C,EAAAA,EAAAA,IAAY,sCADxB,oBACb+C,UACRF,OAFqB,MACD,GADC,8CAAH,qDASpB,OAJAG,EAAAA,EAAAA,YAAU,WACRF,MACC,IAE8B,IAA1BF,EAAeK,SACpB,SAAC5B,EAAD,CAAqBE,WAAYqB,EAAeF,GAAiBQ,YAAjE,UACE,UAAC1B,EAAD,YACE,SAACC,EAAD,CAAmB0B,IAAKP,EAAeF,GAAiBQ,eACxD,UAACxB,EAAD,YACE,UAACC,EAAD,YACE,SAACC,EAAD,WACE,qBAAUwB,KAAK,cAFnB,+BAMA,SAACvB,EAAD,UAAqBe,EAAeF,GAAiBU,QACrD,SAACtB,EAAD,UAAqBc,EAAeF,GAAiBW,sB,sBCM/D,I,GAAA,GAnCA,SAAqB/B,GACnB,OAAwCqB,EAAAA,EAAAA,UAAS,GAAjD,eAAOW,EAAP,KAAqBC,EAArB,KACA,EAAwCjC,EAAhCkC,KAAAA,OAAR,MAAe,GAAf,EAAmBC,EAAqBnC,EAArBmC,iBAEbC,EAAoB,SAACC,GACzB,IAA6BC,EAAWD,EAAhCE,OAAUC,QAAWF,GAC7B,GAAIN,IAAiBS,SAASH,EAAI,IAChCL,EAAgB,GAChBE,EAAiB,GAAI,OAChB,CACLF,EAAgBQ,SAASH,EAAI,KAC7B,IAAMI,EAAmBC,IAAAA,CAAWT,GAAM,SAACU,GAAD,OAAOA,EAAEN,KAAOG,SAASH,EAAI,OACjEO,EAAcX,EAAKQ,GACzBP,GAA4B,OAAXU,QAAW,IAAXA,OAAA,EAAAA,EAAaf,OAAQ,GAAIY,EAAmB,GAAK,KAItE,OACE,SAACjC,EAAD,UAEIyB,EAAKY,KAAI,SAACC,GAAD,OACP,SAACrC,EAAD,CAEE,UAASqC,EAAKT,GACdU,UAAWhB,IAAiBe,EAAKT,IAAM,SACvCW,QAASb,EAJX,SAMGW,EAAKjB,MALDiB,EAAKT,U,4CCxBTY,GAAkBpD,EAAAA,GAAAA,IAAH,wlCCyB5B,OAxBA,YAAiE,IAA3CqD,EAA0C,EAA1CA,WAAYC,EAA8B,EAA9BA,gBAAiBC,EAAa,EAAbA,UACjD,OACE,SAACH,GAAD,WACE,SAAC,KAAD,CACEI,UAAWH,EACXI,WAAW,MACXC,UAAU,uBACVC,aAAcL,EACdM,mBAAoB,EACpBL,UAAWA,EACXM,cAAc,uBACdC,sBAAuB,KACvBC,mBAAmB,aACnBC,gBAAgB,eAChBC,cAAc,kBACdC,mBAAmB,mBACnBC,sBAAsB,kBACtBC,kBAAkB,kBAClBC,kBAAkB,yB,sBCiE1B,OA1EA,SAAyBnE,GACvB,IAAQoE,EAAepE,EAAfoE,WACR,GAAkC/C,EAAAA,EAAAA,UAAS,GAA3C,eAAOgC,EAAP,KAAkBgB,EAAlB,KACA,GAAoChD,EAAAA,EAAAA,UAAS,GAA7C,eAAO8B,EAAP,KAAmBmB,EAAnB,KACA,GAA8BjD,EAAAA,EAAAA,WAAS,GAAvC,eAAOkD,EAAP,KAAgBC,EAAhB,KACA,GAAwBnD,EAAAA,EAAAA,UAAS,IAAjC,eAAOa,EAAP,KAAauC,EAAb,KACMC,GAAWC,EAAAA,GAAAA,MAEXC,EAAO,mCAAG,iHAAOC,EAAP,+BAAc,EAC5BL,GAAW,GADG,SAE8B9F,EAAAA,EAAAA,IAAY,gBAAiB,CACvEoG,OAAQ,CACNC,MAAO,MACPC,MAAO,GACPC,IAAKb,EACLc,OAAe,GAAPL,KAPE,oBAENpD,UAAAA,OAFM,MAEM,GAFN,MAEU0D,MAAAA,OAFV,MAEkB,EAFlB,EAUdX,GAAW,GACXF,EAAcO,GACdR,EAAae,KAAKC,KAAKF,EAAQ,KAC/BV,EAAQhD,GAbM,4CAAH,qDA6Bb,OAJAC,EAAAA,EAAAA,YAAU,WACRkD,EAAQ,KACP,CAACR,KAGF,UAACzD,EAAD,YACE,SAACC,EAAD,UAEI2D,GAAU,SAAC,KAAD,IAAcrC,EAAKY,KAAI,SAACC,GAAD,OAC/B,UAAClC,EAAD,CAAuCoC,QAAS,WAbrC,IAACX,EAAAA,EAayDS,EAAKT,GAZlFoC,EAAS,mBAAD,OAAoBpC,KAYpB,WACE,UAACxB,EAAD,YACE,SAACC,EAAD,CAASc,IAAKkB,EAAKnB,eACnB,UAACZ,EAAD,YACE,UAACE,EAAD,YACE,SAAC,KAAD,CAAMY,KAAK,eAAewD,SAAS,UAClCC,EAAAA,GAAAA,IAAmBxC,EAAKyC,eAE3B,UAACrE,EAAD,YACE,SAAC,KAAD,CAAMW,KAAK,iBAAiBwD,SAAS,SACpCvC,EAAK0C,QAAQC,mBAIpB,SAACzE,EAAD,UAAW8B,EAAKjB,SAdYiB,EAAKT,UAoBtCiC,IACC,SAAC,GAAD,CACEpB,WAAYA,EACZE,UAAWA,EACXD,gBA1Cc,SAACf,GACvB,IAAkBsD,EAAetD,EAAzBuD,SACRhB,EAAQe,UCDZ,OA9BA,WACE,OAAsCtE,EAAAA,EAAAA,UAAS,IAA/C,eAAOwE,EAAP,KAAoBC,EAApB,KACA,GAAoCzE,EAAAA,EAAAA,UAAS,IAA7C,eAAO+C,EAAP,KAAmB2B,EAAnB,KACA,GAA8C1E,EAAAA,EAAAA,UAAS,GAAvD,eAAOD,EAAP,KAAwB4E,EAAxB,KAGMC,EAAmB,mCAAG,sGACHvH,EAAAA,EAAAA,IAAY,iBADT,gBAClBwH,EADkB,EAClBA,KACRJ,EAAeI,GAFW,2CAAH,qDAezB,OAJAxE,EAAAA,EAAAA,YAAU,WACRuE,MACC,KAGD,UAACpG,EAAD,YACE,SAAC,EAAD,CAAgBuE,WAAYA,EAAYhD,gBAAiBA,KACzD,SAAC,GAAD,CAAac,KAAM2D,EAAa1D,iBAZX,SAACL,EAAMqE,GAC9BJ,EAAcjE,GACdkE,EAAmBG,OAWjB,SAAC,GAAD,CAAiB/B,WAAYA,S,kLC5B7BgC,EAAmBtG,EAAAA,GAAAA,IAAH,gIAShBuG,EAAevG,EAAAA,GAAAA,IAAH,gPA0ClB,MAhCA,SAAqBE,GACnB,IACEsG,EACEtG,EADFsG,QAAS3G,EACPK,EADOL,QAASF,EAChBO,EADgBP,IAEhB8G,EAAa,CACfzE,KAAM,qBACN0E,MAAO,OAgBT,MAda,UALTxG,EADqBJ,OAOvB2G,EAAa,CACXzE,KAAM,qBACN0E,MAAO,SAGX9E,EAAAA,EAAAA,YAAU,WACR,IAAM+E,EAAQC,YAAW,WACvBJ,MACC,KACH,OAAO,WACLK,aAAaF,QAIf,SAACL,EAAD,WACE,UAACC,EAAD,YACE,SAAC,KAAD,kBAAUE,GAAV,IAAsBjB,SAAS,UADjC,UAEM3F,EAFN,aAEkBF,SC9CX8F,EAAqB,SAACqB,GACjC,IAAMC,EAAWD,EAAME,WACfnF,EAAWkF,EAASE,MAAM,IAA1BpF,OASR,OAPIA,EAAS,EACR,UAAMkF,EAASG,MAAM,EAAGrF,EAAS,GAAjC,UACMA,EAAS,EACf,UAAMkF,EAASG,MAAM,EAAGrF,EAAS,GAAjC,UAEA,UAAMiF,IAKAK,EAAiB,WAAe,IAAdC,EAAa,uDAAN,EAC9BC,EAAI/B,KAAKgC,MAAMF,EAAO,KACxBG,EAAW,QACf,GAAIF,EAAI,IAAMA,EAAI,EAChBE,EAAQ,aAASF,OACZ,CACL,IAAMG,EAAU,CACdC,IAAKnC,KAAKgC,MAAMD,EAAI,IACpBxF,OAAQ,UAAIyD,KAAKgC,MAAMD,EAAI,KAAOxF,QAE9B6F,EAAU,CACdD,IAAKJ,EAAkB,GAAdG,EAAQC,IACjB5F,OAAQ,UAAIwF,EAAkB,GAAdG,EAAQC,KAAYT,WAAWnF,QAE3C8F,EAAKH,EAAQ3F,QAAU,EAAlB,WAA0B2F,EAAQC,KAAlC,UAA6CD,EAAQC,KAC1DG,EAAKF,EAAQ7F,QAAU,EAAlB,WAA0B6F,EAAQD,KAAlC,UAA6CC,EAAQD,KAChEF,EAAQ,UAAMI,EAAN,YAAYC,GAEtB,OAAOL,GAGI1H,EAAU,SAACK,GACtB,IAAI2H,EAAMC,SAASC,cAAc,iBAC5BF,KACHA,EAAMC,SAASE,cAAc,QACzBC,aAAa,KAAM,gBACvBH,SAASI,KAAKC,YAAYN,IAG5B,IASgBO,EATVC,GAAa,UAAQnI,GAErBsG,EAAU,WACQ8B,EAAAA,uBAAgCT,IACjCA,EAAIU,YACvBV,EAAIU,WAAWC,YAAYX,IAIfO,EAOTC,EANLC,EAAAA,QACE,SAAC,GAAD,QAAa9B,QAASA,GAAa4B,IACnCP","sources":["api/index.js","pages/songList/style.js","pages/songList/components/style.js","pages/songList/components/topHighquality.js","pages/songList/components/hotCategory.js","components/pagination/style.js","components/pagination/index.js","pages/songList/components/songListContent.js","pages/songList/index.js","components/popupWindow/index.js","utils/index.js"],"sourcesContent":["import Axios from 'axios';\nimport { message } from '../utils';\n\nconst request = Axios.create({\n  baseURL: 'http://localhost:4000/', // api 的 base_url\n  timeout: 5000, // request timeout  设置请求超时时间\n  responseType: 'json',\n  withCredentials: true, // 是否允许带cookie这些\n  crossDomain: true,\n  headers: {\n    'Content-Type': 'application/json;charset=utf-8',\n  },\n});\n\nrequest.interceptors.response.use(\n  (res) => res.data, // 这里直接返回data, 即接口返回的所有数据\n  (error) => {\n    const { response: { data: { code, msg, message: sysMessage }, data } } = error;\n    if (code === 301) {\n      message({\n        type: 'error',\n        msg,\n        message: sysMessage,\n      });\n    }\n    return data;\n  },\n);\n\nexport default request;\n","import styled from 'styled-components';\n\nconst SongListStyle = styled.div`\n  width: 100%;\n  height: 100%;\n  padding: 30px;\n  padding-bottom: 0;\n  overflow: hidden;\n  box-sizing: border-box;\n  overflow: auto;\n  scrollbar-width: none;\n  &::-webkit-scrollbar {\n    display: none; /* Chrome Safari */\n  }\n`;\n\nconst TopHighquality = styled.div``;\n\nexport {\n  SongListStyle,\n  TopHighquality,\n};\n","import styled from 'styled-components';\n\nconst TopHighqualityStyle = styled.div`\n  width: 100%;\n  height: 170px;\n  background-image: url(${(props) => props.background});\n  background-size: 200%;\n  background-position: center center;\n  position: relative;\n  border-radius: 8px;\n  overflow: hidden;\n  user-select: none;\n  margin-bottom: 20px;\n`;\n\nconst TopHighqualityBlur = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, .4);\n  backdrop-filter: blur(50px);\n  display: flex;\n  align-items: center;\n  padding-left: 15px;\n`;\n\nconst TopHighqualityImg = styled.img`\n  width: 140px;\n  height: 140px;\n  object-fit: cover;\n  border-radius: 6px;\n  margin-right: 10px;\n`;\n\nconst TopHighqualityDesc = styled.div`\n  flex: 1;\n`;\n\nconst TopHighqualityBtn = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 14px;\n  height: 28px;\n  border: 1px solid #deac67;\n  color: #deac67;\n  width: 100px;\n  font-size: 14px;\n  margin-bottom: 16px;\n`;\n\nconst TopHighqualitySpan = styled.span`\n  display: flex;\n  align-items: center;\n  margin-right: 5px;\n  color: #deac67;\n`;\n\nconst TopHighqualityName = styled.div`\n  margin-bottom: 10px;\n`;\n\nconst TopHighqualityInfo = styled.div`\n  font-size: 14px;\n  color: rgba(255, 255, 255, .4);\n`;\n\nconst HotCategoryStyle = styled.div`\n  display: flex;\n`;\n\nconst HotCategoryItem = styled.div`\n  display: flex;\n  font-size: 12px;\n  padding: 0 15px;\n  cursor: default;\n  user-select: none;\n  height: 20px;\n  background-color: rgba(155, 178, 210, .2);\n  align-items: center;\n  border-radius: 10px;\n  margin-right: 10px;\n  margin-bottom: 15px;\n  &:hover {\n    background-color: rgba(155, 178, 210, .6);\n  }\n  &.active {\n    background-color: rgba(155, 178, 210, .6);\n  }\n`;\n\nconst SongListContentStyle = styled.div``;\n\nconst SongListContentList = styled.div`\n  display: grid;\n  grid-template-columns: repeat(5, 170px);\n  grid-row-gap: 30px;\n  justify-content: space-between;\n  min-height: 363px;\n  position: relative;\n`;\n\nconst SongListContentListItem = styled.div`\n\n`;\n\nconst ItemImgWrapper = styled.div`\n  width: 170px;\n  height: 170px;\n  border-radius: 8px;\n  overflow: hidden;\n  margin-bottom: 10px;\n  position: relative;\n`;\n\nconst ItemImg = styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n`;\n\nconst ItemImgMask = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  transition: all .5s;\n  background: linear-gradient(rgba(0, 0, 0, 0.4), transparent, rgba(0, 0, 0, 0.4));\n  &:hover {\n    background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4));\n  }\n`;\n\nconst ItemName = styled.div`\n  font-size: 12px;\n`;\n\nconst ItemPlayCount = styled.div`\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n`;\n\nconst ItemArtist = styled.div`\n  position: absolute;\n  bottom: 5px;\n  left: 5px;\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n`;\n\nexport {\n  TopHighqualityStyle,\n  TopHighqualityBlur,\n  TopHighqualityImg,\n  TopHighqualityDesc,\n  TopHighqualityBtn,\n  TopHighqualitySpan,\n  TopHighqualityName,\n  TopHighqualityInfo,\n  HotCategoryStyle,\n  HotCategoryItem,\n  SongListContentStyle,\n  SongListContentList,\n  SongListContentListItem,\n  ItemImgWrapper,\n  ItemImg,\n  ItemImgMask,\n  ItemName,\n  ItemPlayCount,\n  ItemArtist,\n};\n","import React, { useState, useEffect } from 'react';\nimport {\n  TopHighqualityStyle, TopHighqualityBlur, TopHighqualityImg, TopHighqualityDesc,\n  TopHighqualityBtn, TopHighqualityName, TopHighqualityInfo, TopHighqualitySpan,\n} from './style';\nimport request from '../../../api';\n\nfunction TopHighquality(props) {\n  const { currentTagIndex } = props;\n  const [topHighquality, setTopHighquality] = useState([]); // 顶部精品歌单\n\n  // 获取顶部的一个精品歌单\n  const getHighquality = async () => {\n    const { playlists = [] } = await request.get('/top/playlist/highquality?limit=11');\n    setTopHighquality(playlists);\n  };\n\n  useEffect(() => {\n    getHighquality();\n  }, []);\n\n  return topHighquality.length !== 0 && (\n    <TopHighqualityStyle background={topHighquality[currentTagIndex].coverImgUrl}>\n      <TopHighqualityBlur>\n        <TopHighqualityImg src={topHighquality[currentTagIndex].coverImgUrl} />\n        <TopHighqualityDesc>\n          <TopHighqualityBtn>\n            <TopHighqualitySpan>\n              <ion-icon name=\"diamond\" />\n            </TopHighqualitySpan>\n            精品歌单\n          </TopHighqualityBtn>\n          <TopHighqualityName>{topHighquality[currentTagIndex].name}</TopHighqualityName>\n          <TopHighqualityInfo>{topHighquality[currentTagIndex].copywriter}</TopHighqualityInfo>\n        </TopHighqualityDesc>\n      </TopHighqualityBlur>\n    </TopHighqualityStyle>\n  );\n}\n\nexport default TopHighquality;\n","import React, { useState } from 'react';\nimport _findIndex from 'lodash/findIndex';\nimport { HotCategoryStyle, HotCategoryItem } from './style';\n\nfunction HotCategory(props) {\n  const [currendTagId, setCurrendTagId] = useState(0);\n  const { list = [], changeCurrentTag } = props;\n\n  const changeCurrenTagId = (e) => {\n    const { target: { dataset: { id } } } = e;\n    if (currendTagId === parseInt(id, 10)) {\n      setCurrendTagId(0);\n      changeCurrentTag('', 0);\n    } else {\n      setCurrendTagId(parseInt(id, 10));\n      const currentItemIndex = _findIndex(list, (o) => o.id === parseInt(id, 10));\n      const currentItem = list[currentItemIndex];\n      changeCurrentTag(currentItem?.name || '', currentItemIndex + 1 || 0);\n    }\n  };\n\n  return (\n    <HotCategoryStyle>\n      {\n        list.map((item) => (\n          <HotCategoryItem\n            key={item.id}\n            data-id={item.id}\n            className={currendTagId === item.id && 'active'}\n            onClick={changeCurrenTagId}\n          >\n            {item.name}\n          </HotCategoryItem>\n        ))\n      }\n    </HotCategoryStyle>\n  );\n}\n\nexport default HotCategory;\n","import styled from 'styled-components';\n\nexport const PaginationStyle = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n  .pagination {\n    list-style: none;\n    display: flex;\n    padding: 0;\n    .pagination-item,\n    .pagination-point {\n      width: 44px;\n      justify-content: center;\n      align-items: center;\n    }\n    .pagination-prev,\n    .pagination-next {\n      width: 80px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n    .pagination-item,\n    .pagination-point,\n    .pagination-prev,\n    .pagination-next {\n      font-size: 14px;\n      display: flex;\n      height: 20px;\n      align-items: center;\n      background-color: rgba(155, 178, 210, .2);\n      border-radius: 10px;\n      margin: 0 5px;\n      cursor: pointer;\n      &:hover {\n        background-color: rgba(155, 178, 210, .6);\n      }\n      .pagination-item-a {\n        display: flex;\n        width: 100%;\n        height: 100%;\n        justify-content: center;\n        align-items: center;\n      }\n    }\n    .current-page {\n      background-color: rgba(155, 178, 210, .6);\n    }\n  }\n`;\n","import ReactPaginate from 'react-paginate';\nimport { PaginationStyle } from './style';\n\nfunction Pagination({ currentPag, handlePageClick, pageCount }) {\n  return (\n    <PaginationStyle>\n      <ReactPaginate\n        forcePage={currentPag}\n        breakLabel=\"...\"\n        nextLabel=\"下一页 >\"\n        onPageChange={handlePageClick}\n        pageRangeDisplayed={3}\n        pageCount={pageCount}\n        previousLabel=\"< 上一页\"\n        renderOnZeroPageCount={null}\n        containerClassName=\"pagination\"\n        activeClassName=\"current-page\"\n        pageClassName=\"pagination-item\"\n        breakLinkClassName=\"pagination-point\"\n        previousLinkClassName=\"pagination-prev\"\n        nextLinkClassName=\"pagination-next\"\n        pageLinkClassName=\"pagination-item-a\"\n      />\n    </PaginationStyle>\n  );\n}\n\nexport default Pagination;\n","import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  SongListContentStyle, SongListContentList, SongListContentListItem,\n  ItemImgWrapper, ItemImg, ItemImgMask, ItemName, ItemPlayCount, ItemArtist,\n} from './style';\nimport Icon from '../../../components/icon';\nimport request from '../../../api';\nimport Pagination from '../../../components/pagination';\nimport Loading from '../../../components/loading';\nimport { calculatePlayCount } from '../../../utils';\n\nfunction SongListContent(props) {\n  const { currentTag } = props;\n  const [pageCount, setPageCount] = useState(1);\n  const [currentPag, setCurrentPag] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [list, setList] = useState([]); // 歌单列表\n  const navigate = useNavigate();\n\n  const getList = async (page = 0) => {\n    setLoading(true);\n    const { playlists = [], total = 0 } = await request.get('/top/playlist', {\n      params: {\n        order: 'hot',\n        limit: 20,\n        cat: currentTag,\n        offset: page * 20,\n      },\n    });\n    setLoading(false);\n    setCurrentPag(page);\n    setPageCount(Math.ceil(total / 20));\n    setList(playlists);\n  };\n\n  const handlePageClick = (e) => {\n    const { selected: selectPage } = e;\n    getList(selectPage);\n  };\n\n  const goDetailPage = (id) => {\n    navigate(`/songListDetail/${id}`);\n  };\n\n  useEffect(() => {\n    getList(0);\n  }, [currentTag]);\n\n  return (\n    <SongListContentStyle>\n      <SongListContentList>\n        {\n          loading ? <Loading /> : list.map((item) => (\n            <SongListContentListItem key={item.id} onClick={() => { goDetailPage(item.id); }}>\n              <ItemImgWrapper>\n                <ItemImg src={item.coverImgUrl} />\n                <ItemImgMask>\n                  <ItemPlayCount>\n                    <Icon name=\"play-outline\" fontSize=\"12px\" />\n                    {calculatePlayCount(item.playCount)}\n                  </ItemPlayCount>\n                  <ItemArtist>\n                    <Icon name=\"person-outline\" fontSize=\"12px\" />\n                    {item.creator.nickname}\n                  </ItemArtist>\n                </ItemImgMask>\n              </ItemImgWrapper>\n              <ItemName>{item.name}</ItemName>\n            </SongListContentListItem>\n          ))\n        }\n      </SongListContentList>\n      {\n        !loading && (\n          <Pagination\n            currentPag={currentPag}\n            pageCount={pageCount}\n            handlePageClick={handlePageClick}\n          />\n        )\n      }\n    </SongListContentStyle>\n  );\n}\n\nexport default SongListContent;\n","import React, { useState, useEffect } from 'react';\nimport { SongListStyle } from './style';\nimport request from '../../api';\nimport TopHighquality from './components/topHighquality';\nimport HotCategory from './components/hotCategory';\nimport SongListContent from './components/songListContent';\n\nfunction SongList() {\n  const [hotCategory, setHotCategory] = useState([]); // 热门歌单分类\n  const [currentTag, setCurrentTag] = useState('');\n  const [currentTagIndex, setCurrentTagIndex] = useState(0);\n\n  // 获取热门歌单分类\n  const getSongListCategory = async () => {\n    const { tags } = await request.get('/playlist/hot');\n    setHotCategory(tags);\n  };\n\n  // 更改当前分类名称\n  const changeCurrentTag = (name, index) => {\n    setCurrentTag(name);\n    setCurrentTagIndex(index);\n  };\n\n  useEffect(() => {\n    getSongListCategory();\n  }, []);\n\n  return (\n    <SongListStyle>\n      <TopHighquality currentTag={currentTag} currentTagIndex={currentTagIndex} />\n      <HotCategory list={hotCategory} changeCurrentTag={changeCurrentTag} />\n      <SongListContent currentTag={currentTag} />\n    </SongListStyle>\n  );\n}\n\nexport default SongList;\n","import { useEffect } from 'react';\nimport styled from 'styled-components';\nimport Icon from '../icon';\n\nconst PopupWindowStyle = styled.div`\n  position: fixed;\n  top: 8px;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n`;\n\nconst PopupContent = styled.div`\n  display: flex;\n  padding: 10px 16px;\n  background: #fff;\n  border-radius: 2px;\n  box-shadow: 0 3px 6px -4px #0000001f,0 6px 16px #00000014,0 9px 28px 8px #0000000d;\n  font-size: 14px;\n  align-items: center;\n`;\n\nfunction PopupWindow(props) {\n  const {\n    destroy, message, msg, type,\n  } = props;\n  let iconConfig = {\n    name: 'close-circle-sharp',\n    color: 'red',\n  };\n  if (type === 'error') {\n    iconConfig = {\n      name: 'close-circle-sharp',\n      color: 'red',\n    };\n  }\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      destroy();\n    }, 3000);\n    return () => {\n      clearTimeout(timer);\n    };\n  });\n  return (\n    <PopupWindowStyle>\n      <PopupContent>\n        <Icon {...iconConfig} fontSize=\"18px\" />\n        {`${message}: ${msg}`}\n      </PopupContent>\n    </PopupWindowStyle>\n  );\n}\n\nexport default PopupWindow;\n","import ReactDom, { createPortal } from 'react-dom';\nimport PopupWindow from '../components/popupWindow';\n\nexport const calculatePlayCount = (count) => {\n  const countStr = count.toString();\n  const { length } = countStr.split('');\n  let num = '';\n  if (length > 8) {\n    num = `${countStr.slice(0, length - 8)}亿`;\n  } else if (length > 4) {\n    num = `${countStr.slice(0, length - 4)}万`;\n  } else {\n    num = `${count}`;\n  }\n  return num;\n};\n\nexport const formatDuration = (time = 0) => {\n  const s = Math.floor(time / 1000);\n  let duration = '00:00';\n  if (s < 60 && s > 0) {\n    duration = `00:${s}`;\n  } else {\n    const remainM = {\n      num: Math.floor(s / 60),\n      length: (`${Math.floor(s / 60)}`).length,\n    };\n    const remainS = {\n      num: s - remainM.num * 60,\n      length: (`${s - remainM.num * 60}`).toString().length,\n    };\n    const mm = remainM.length <= 1 ? `0${remainM.num}` : `${remainM.num}`;\n    const ss = remainS.length <= 1 ? `0${remainS.num}` : `${remainS.num}`;\n    duration = `${mm}:${ss}`;\n  }\n  return duration;\n};\n\nexport const message = (props) => {\n  let div = document.querySelector('#popup-window');\n  if (!div) {\n    div = document.createElement('div');\n    div.setAttribute('id', 'popup-window');\n    document.body.appendChild(div);\n  }\n\n  const currentConfig = { ...props };\n\n  const destroy = () => {\n    const unmountResult = ReactDom.unmountComponentAtNode(div);\n    if (unmountResult && div.parentNode) {\n      div.parentNode.removeChild(div);\n    }\n  };\n\n  const render = (config) => {\n    ReactDom.render(\n      <PopupWindow destroy={destroy} {...config} />,\n      div,\n    );\n  };\n\n  render(currentConfig);\n};\n"],"names":["request","Axios","baseURL","timeout","responseType","withCredentials","crossDomain","headers","interceptors","response","use","res","data","error","code","msg","sysMessage","message","type","SongListStyle","styled","TopHighqualityStyle","props","background","TopHighqualityBlur","TopHighqualityImg","TopHighqualityDesc","TopHighqualityBtn","TopHighqualitySpan","TopHighqualityName","TopHighqualityInfo","HotCategoryStyle","HotCategoryItem","SongListContentStyle","SongListContentList","SongListContentListItem","ItemImgWrapper","ItemImg","ItemImgMask","ItemName","ItemPlayCount","ItemArtist","currentTagIndex","useState","topHighquality","setTopHighquality","getHighquality","playlists","useEffect","length","coverImgUrl","src","name","copywriter","currendTagId","setCurrendTagId","list","changeCurrentTag","changeCurrenTagId","e","id","target","dataset","parseInt","currentItemIndex","_findIndex","o","currentItem","map","item","className","onClick","PaginationStyle","currentPag","handlePageClick","pageCount","forcePage","breakLabel","nextLabel","onPageChange","pageRangeDisplayed","previousLabel","renderOnZeroPageCount","containerClassName","activeClassName","pageClassName","breakLinkClassName","previousLinkClassName","nextLinkClassName","pageLinkClassName","currentTag","setPageCount","setCurrentPag","loading","setLoading","setList","navigate","useNavigate","getList","page","params","order","limit","cat","offset","total","Math","ceil","fontSize","calculatePlayCount","playCount","creator","nickname","selectPage","selected","hotCategory","setHotCategory","setCurrentTag","setCurrentTagIndex","getSongListCategory","tags","index","PopupWindowStyle","PopupContent","destroy","iconConfig","color","timer","setTimeout","clearTimeout","count","countStr","toString","split","slice","formatDuration","time","s","floor","duration","remainM","num","remainS","mm","ss","div","document","querySelector","createElement","setAttribute","body","appendChild","config","currentConfig","ReactDom","parentNode","removeChild"],"sourceRoot":""}