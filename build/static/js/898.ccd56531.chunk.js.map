{"version":3,"file":"static/js/898.ccd56531.chunk.js","mappings":"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","sources":["api/index.js","components/icon/index.js","hooks/index.js","pages/recommend/components/djprogramList.js","pages/recommend/components/newSongList.js","pages/recommend/components/style.js","pages/singerDetail/components/mvList.js","pages/singerDetail/components/style.js","pages/singerDetail/style.js","pages/singerDetail/components/singerDesc.js","pages/singerDetail/index.js","utils/index.js"],"sourcesContent":["import Axios from 'axios';\n\nconst request = Axios.create({\n  baseURL: 'http://localhost:3000/', // api 的 base_url\n  timeout: 5000, // request timeout  设置请求超时时间\n  responseType: 'json',\n  withCredentials: true, // 是否允许带cookie这些\n  crossDomain: true,\n  headers: {\n    'Content-Type': 'application/json;charset=utf-8',\n  },\n});\n\nrequest.interceptors.response.use(\n  (res) => res.data, // 这里直接返回data, 即接口返回的所有数据\n  (error) => (error),\n);\n\nexport default request;\n","import styled from 'styled-components';\n\nconst IconStyle = styled.span`\n  font-size: ${(props) => props.data.fontSize};\n  color: ${(props) => props.data.color};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 2px;\n`;\n\nfunction Icon(props) {\n  const { name, fontSize = '14px', color = '#fff' } = props;\n  return (\n    <IconStyle data={{\n      fontSize,\n      color,\n    }}\n    >\n      <ion-icon name={name} />\n    </IconStyle>\n  );\n}\n\nexport default Icon;\n","import { useLocation, useParams, useNavigate } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\n\nexport function withRouter(Target) {\n  // eslint-disable-next-line func-names\n  return function (props) {\n    const location = useLocation();\n    const params = useParams();\n    const navigate = useNavigate();\n    return <Target location={location} params={params} navigate={navigate} />;\n  };\n}\n\nexport function useLazyImg(imgList) {\n  const [showList, setShowList] = useState(false);\n\n  useEffect(() => {\n    if (imgList.length !== 0) {\n      const promiseImg = imgList.map((item) => new Promise((resolve, reject) => {\n        const img = new Image();\n        img.onload = () => {\n          img.onload = null;\n          resolve(img);\n        };\n        img.error = () => {\n          reject(new Error('图片加载失败'));\n        };\n        img.src = item;\n      }));\n      Promise.all(promiseImg).then((res) => {\n        setShowList(true);\n      });\n    }\n  }, [imgList]);\n  return imgList.length === 0 ? false : showList;\n}\n","import { useEffect, useState } from 'react';\nimport {\n  DjprogramListStyle, DjprogramItem, DjprogramItemImgWrapper,\n  DjprogramItemImg, DjprogramItemDesc, DjprogramItemSongName,\n  DjprogramItemDjDesc, DjprogramItemImgMask,\n} from './style';\nimport Loading from '../../../components/loading';\nimport { useLazyImg } from '../../../hooks';\n\nfunction DjprogramList(props) {\n  const {\n    list = [], type = '', length = 6,\n  } = props;\n  const showList = useLazyImg(list.map((item) => (type === 'singer' ? item.blurPicUrl : item.picUrl)));\n  const djDesc = (item) => {\n    switch (type) {\n      case 'singer':\n        return item.desciption;\n      case 'radio':\n        return item.dj.nickname;\n      default:\n        return item.program.dj.nickname;\n    }\n  };\n  return (\n    <DjprogramListStyle height=\"228px\" length={length}>\n      {\n        showList && list.length !== 0 ? list.map((item) => (\n          <DjprogramItem key={item.id}>\n            <DjprogramItemImgWrapper>\n              <DjprogramItemImg src={type === 'singer' ? item.blurPicUrl : item.picUrl} />\n              <DjprogramItemImgMask />\n            </DjprogramItemImgWrapper>\n            <DjprogramItemDesc>\n              <DjprogramItemSongName>{item.name}</DjprogramItemSongName>\n              <DjprogramItemDjDesc>\n                {djDesc(item)}\n              </DjprogramItemDjDesc>\n            </DjprogramItemDesc>\n          </DjprogramItem>\n        )) : <Loading />\n      }\n    </DjprogramListStyle>\n  );\n}\n\nexport default DjprogramList;\n","import {\n  NewSongListStyle, NewSongItem, NewSongItemImgWrapper,\n  NewSongItemDesc, NewSongItemAdd, NewSongItemImg, NewSongItemName,\n  NewSongItemArtist, NewSongItemImgMask,\n} from './style';\nimport Loading from '../../../components/loading';\nimport { useLazyImg } from '../../../hooks';\n\nfunction NewSongList(props) {\n  const { list = [], type = '' } = props;\n  const imageList = list.map((item) => (type === 'singer' ? item.al?.picUrl : item.picUrl));\n  const showList = useLazyImg(imageList);\n  return (\n    <NewSongListStyle height=\"180px\">\n      {\n        (showList && list.length !== 0) ? list.map((item) => (\n          <NewSongItem key={item.id}>\n            <NewSongItemImgWrapper>\n              <NewSongItemImg src={type === 'singer' ? item.al?.picUrl : item.picUrl} />\n              <NewSongItemImgMask>\n                <ion-icon name=\"play\" />\n              </NewSongItemImgMask>\n            </NewSongItemImgWrapper>\n            <NewSongItemDesc>\n              <NewSongItemName>{item.name}</NewSongItemName>\n              <NewSongItemArtist>\n                {\n                  type === 'singer'\n                    ? item.al.name\n                    : item.song.artists.map((i) => i.name).join('/')\n                }\n              </NewSongItemArtist>\n            </NewSongItemDesc>\n            <NewSongItemAdd>\n              <ion-icon name=\"add-outline\" />\n            </NewSongItemAdd>\n          </NewSongItem>\n        )) : <Loading />\n      }\n    </NewSongListStyle>\n  );\n}\n\nexport default NewSongList;\n","import styled from 'styled-components';\n\nconst listCommon = `\n  display: grid;\n  grid-column-gap: 20px;\n  width: 100%;\n  overflow-x: auto;\n  scrollbar-width: none;\n  position: relative;\n  &::-webkit-scrollbar {\n    display: none; /* Chrome Safari */\n  }\n`;\n\nconst itemCommon = `\n  flex-shrink: 0;\n  position: relative;\n  border-radius: 8px;\n  overflow: hidden;\n`;\n\nconst BoutiqueListStyle = styled.div`\n  ${listCommon}\n  height: ${(props) => props.height || 'auto'};\n  grid-template-columns: repeat(${(props) => props.length}, 214px);\n`;\n\nconst BoutiqueItem = styled.div`\n  height: 284px;\n  ${itemCommon}\n`;\n\nconst BoutiqueItemImg = styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`;\n\nconst BoutiqueItemTitle = styled.div`\n  position: absolute;\n  height: 70px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-image: url(${(props) => props.background});\n  background-size: 200%;\n  background-position: 50%;\n  background: rgba(0, 0, 0, .4);\n  backdrop-filter: blur(10px);\n  font-size: 12px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst BoutiqueItemMask = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 70px;\n  opacity: 1;\n  transition: all .5s;\n  background: transparent;\n  &:hover {\n    background: #000;\n    opacity: .4;\n  }\n`;\n\nconst SpanTitle = styled.span`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 5px;\n  > *{\n    margin-right: 4px;\n  }\n`;\n\nconst DjprogramListStyle = styled.div`\n  ${listCommon}\n  grid-template-columns: repeat(${(props) => props.length}, 186px);\n  height: ${(props) => props.height || 'auto'};\n`;\n\nconst DjprogramItem = styled.div`\n  ${itemCommon}\n`;\n\nconst DjprogramItemImgWrapper = styled.div`\n  width: 100%;\n  height: 186px;\n  margin-bottom: 10px;\n  position: relative;\n`;\n\nconst DjprogramItemImg = styled.img`\n  width: 100%;\n  height: 100%;\n  border-radius: 8px;\n  object-fit: cover;\n`;\n\nconst DjprogramItemImgMask = styled.div`\n  object-fit: cover;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  opacity: 1;\n  transition: all .5s;\n  background: transparent;\n  &:hover {\n    background: #000;\n    opacity: .4;\n  }\n`;\n\nconst DjprogramItemDesc = styled.div`\n  width: 100%;\n  padding: 0 5px;\n  box-sizing: border-box;\n`;\n\nconst DjprogramItemSongName = styled.div`\n  width: 100%;\n  font-size: 14px;\n  font-weight: 500;\n  margin-bottom: 2px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\nconst DjprogramItemDjDesc = styled.div`\n  width: 100%;\n  font-size: 12px;\n  font-weight: 300;\n`;\n\nconst NewSongListStyle = styled.div`\n  display: grid;\n  grid-template-columns: 310px 310px 310px;\n  grid-template-rows: 60px 60px 60px;\n  justify-content: space-between;\n  grid-template-areas:  'a b c'\n                        'd e f'\n                        'g h i';\n  position: relative;\n  height: ${(props) => props.height || 'auto'};\n`;\n\nconst NewSongItemImgMask = styled.div`\n  display: flex;\n  justify-content: center;\n  font-size: 20px;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  opacity: 0;\n  transition: all .5s;\n  background: rgba(0, 0, 0, .4);\n`;\n\nconst NewSongItemAdd = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 30px;\n  font-size: 20px;\n  opacity: 0;\n  >ion-icon {\n    cursor: pointer;\n    &:active {\n      color: grey;\n    }\n  }\n`;\n\nconst NewSongItem = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: .5px solid rgba(0, 0, 0, .1);\n  &:hover {\n    ${NewSongItemImgMask} {\n      opacity: 1;\n    }\n    ${NewSongItemAdd} {\n      opacity: 1;\n    }\n  }\n`;\n\nconst NewSongItemImgWrapper = styled.div`\n  width: 40px;\n  height: 40px;\n  border-radius: 4px;\n  overflow: hidden;\n  margin-right: 10px;\n  position: relative;\n`;\n\nconst NewSongItemImg = styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n`;\n\nconst NewSongItemDesc = styled.div`\n  flex: 1;\n`;\n\nconst NewSongItemName = styled.div`\n  font-size: 14px;\n  margin-bottom: 2px;\n`;\n\nconst NewSongItemArtist = styled.div`\n  font-size: 12px;\n  font-weight: 300;\n`;\n\nexport {\n  BoutiqueListStyle,\n  BoutiqueItem,\n  BoutiqueItemImg,\n  BoutiqueItemTitle,\n  SpanTitle,\n  BoutiqueItemMask,\n  DjprogramListStyle,\n  DjprogramItem,\n  DjprogramItemImgWrapper,\n  DjprogramItemImg,\n  DjprogramItemDesc,\n  DjprogramItemSongName,\n  DjprogramItemDjDesc,\n  DjprogramItemImgMask,\n  NewSongListStyle,\n  NewSongItem,\n  NewSongItemImgWrapper,\n  NewSongItemImg,\n  NewSongItemDesc,\n  NewSongItemAdd,\n  NewSongItemName,\n  NewSongItemArtist,\n  NewSongItemImgMask,\n};\n","import React, { useEffect, useState } from 'react';\nimport {\n  MvListStyle, MvListItem, MvListItemImg, ImgMaskWrapper, ImgMask, ItemPlayCount,\n  ItemDuration,\n} from './style';\nimport Icon from '../../../components/icon';\nimport { calculatePlayCount, formatDuration } from '../../../utils';\nimport { useLazyImg } from '../../../hooks';\n\nfunction MvList({ list = [] }) {\n  const showList = useLazyImg(list.map((item) => item.imgurl16v9 || item.coverUrl || item.cover));\n  return (\n    <MvListStyle>\n      {\n        showList && list.map((item) => (\n          <MvListItem key={item.id || item.vid}>\n            <ImgMaskWrapper>\n              <MvListItemImg src={item.imgurl16v9 || item.coverUrl || item.cover} />\n              <ImgMask>\n                {\n                  item.playCount && (\n                    <ItemPlayCount>\n                      <Icon name=\"play-outline\" fontSize=\"14px\" />\n                      {calculatePlayCount(item.playCount)}\n                    </ItemPlayCount>\n                  )\n                }\n                <ItemDuration>{formatDuration(item.duration || item.durationms)}</ItemDuration>\n              </ImgMask>\n            </ImgMaskWrapper>\n            {item.name || item.title}\n          </MvListItem>\n        ))\n      }\n    </MvListStyle>\n  );\n}\n\nexport default MvList;\n","import styled from 'styled-components';\n\nexport const MvListStyle = styled.div`\n  display: grid;\n  grid-column-gap: 20px;\n  width: 100%;\n  overflow-x: auto;\n  scrollbar-width: none;\n  grid-template-columns: repeat(10, 240px);\n  position: relative;\n  /* margin-bottom: 20px; */\n  &::-webkit-scrollbar {\n    display: none; /* Chrome Safari */\n  }\n`;\n\nexport const MvListItem = styled.div`\n  width: 100%;\n  flex-shrink: 0;\n  position: relative;\n  border-radius: 8px;\n  overflow: hidden;\n  font-size: 14px;\n`;\n\nexport const ImgMaskWrapper = styled.div`\n  width: 100%;\n  height: 140px;\n  margin-bottom: 5px;\n  border-radius: 8px;\n  overflow: hidden;\n  position: relative;\n`;\n\nexport const ImgMask = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  transition: all .5s;\n  background: linear-gradient(rgba(0, 0, 0, 0.4), transparent, rgba(0, 0, 0, 0.4));\n  &:hover {\n    background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4));\n  }\n`;\n\nexport const ItemPlayCount = styled.div`\n  position: absolute;\n  top: 5px;\n  right: 10px;\n  display: flex;\n  align-items: center;\n`;\n\nexport const ItemDuration = styled.div`\n  position: absolute;\n  bottom: 5px;\n  right: 10px;\n`;\n\nexport const MvListItemImg = styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n`;\n\nexport const SingerDescStyle = styled.div`\n  position: relative;\n  background-color: rgba(155, 178, 210, .4);\n  padding: 30px;\n`;\n\nexport const SingerDescTitle = styled.div`\n  font-size: 18px;\n  margin-bottom: 10px;\n`;\n\nexport const SingerDescContent = styled.div`\n  font-size: 14px;\n  line-height: 20px;\n`;\n","import styled from 'styled-components';\n\nexport const SingerDetailStyle = styled.div`\n  width: 100%;\n  overflow: auto;\n  scrollbar-width: none;\n  &::-webkit-scrollbar {\n    display: none; /* Chrome Safari */\n  }\n`;\nexport const SingerDetailTop = styled.div`\n  width: 100%;\n  height: 430px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  background-color: rgba(155, 178, 210, .4);\n`;\n\nexport const SingerDetailAvatar = styled.img`\n  width: 170px;\n  height: 170px;\n  object-fit: cover;\n  border-radius: 85px;\n  box-shadow: 0 2px 10px grey;\n`;\n\nexport const DetailAvatarBottom = styled.div`\n  position: absolute;\n  left: 30px;\n  bottom: 20px;\n  display: flex;\n  align-items: center;\n  font-size: 24px;\n  font-weight: bold;\n  * {\n    margin-right: 5px;\n  }\n`;\n\nexport const SingerDetailBottom = styled.div`\n  width: 100%;\n  padding: 0 30px;\n  box-sizing: border-box;\n`;\n\nexport const DetailBottomTitle = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: 14px;\n  width: 100%;\n  padding-bottom: 10px;\n  border-bottom: 1px solid rgba(155, 178, 210, .4);\n  margin-top: 20px;\n  margin-bottom: 10px;\n`;\n\nexport const DetailBottomSubTitle = styled.div`\n  font-size: 14px;\n  color: rgba(155, 178, 210);\n  cursor: default;\n  user-select: none;\n`;\n","import {\n  SingerDescStyle, SingerDescTitle, SingerDescContent,\n} from './style';\n\nfunction SingerDesc({ artics }) {\n  return (\n    <SingerDescStyle>\n      <SingerDescTitle>\n        “\n        {artics.name}\n        ”简介\n      </SingerDescTitle>\n      <SingerDescContent>\n        {artics.briefDesc}\n      </SingerDescContent>\n    </SingerDescStyle>\n  );\n}\n\nexport default SingerDesc;\n","import React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport {\n  SingerDetailStyle, SingerDetailTop, SingerDetailAvatar, SingerDetailBottom,\n  DetailBottomTitle, DetailBottomSubTitle, DetailAvatarBottom,\n} from './style';\nimport request from '../../api';\nimport NewSongList from '../recommend/components/newSongList';\nimport AlbumList from '../recommend/components/djprogramList';\nimport MvList from './components/mvList';\nimport SingerDesc from './components/singerDesc';\nimport Icon from '../../components/icon';\n\nfunction SingDetail() {\n  const params = useParams();\n  const [detail, setDetail] = useState({});\n  const [topSongs, setTopSongs] = useState([]);\n  const [hotAlbum, setHotAlbum] = useState([]);\n  const [mvList, setMvList] = useState([]);\n  const navigate = useNavigate();\n\n  const getData = () => {\n    const { id } = params;\n    // 获取歌手信息\n    request.get(`/artists?id=${id}`).then(({ artist, hotSongs }) => {\n      setDetail(artist);\n      setTopSongs(hotSongs.slice(0, 9));\n    });\n    // 获取歌手专辑\n    request.get('/artist/album', { params: { id, limit: 10 } }).then(({ hotAlbums }) => {\n      setHotAlbum(hotAlbums);\n    });\n    // 获取歌手mv\n    request.get('/artist/mv', { params: { id, limit: 10 } }).then(({ mvs }) => {\n      setMvList(mvs);\n    });\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  return (\n    <SingerDetailStyle>\n      <SingerDetailTop>\n        <SingerDetailAvatar src={detail.picUrl} />\n        <DetailAvatarBottom>\n          <Icon name=\"play-circle\" fontSize=\"40px\" />\n          {detail.name}\n        </DetailAvatarBottom>\n      </SingerDetailTop>\n      <SingerDetailBottom>\n        {\n          topSongs.length !== 0 && (\n            <>\n              <DetailBottomTitle>\n                热门歌曲\n                <DetailBottomSubTitle onClick={() => { navigate(`/singerHotSongsList/${params.id}`); }}>显示全部</DetailBottomSubTitle>\n              </DetailBottomTitle>\n              <NewSongList list={topSongs} type=\"singer\" />\n            </>\n          )\n        }\n        {\n          hotAlbum.length !== 0 && (\n            <>\n              <DetailBottomTitle>\n                专辑\n                <DetailBottomSubTitle>显示全部</DetailBottomSubTitle>\n              </DetailBottomTitle>\n              <AlbumList list={hotAlbum} type=\"singer\" length={10} />\n            </>\n          )\n        }\n        {\n          mvList.length !== 0 && (\n            <>\n              <DetailBottomTitle>\n                热门视频\n                <DetailBottomSubTitle>显示全部</DetailBottomSubTitle>\n              </DetailBottomTitle>\n              <MvList list={mvList} />\n            </>\n          )\n        }\n      </SingerDetailBottom>\n      <SingerDesc artics={detail} />\n    </SingerDetailStyle>\n  );\n}\n\nexport default SingDetail;\n","export const calculatePlayCount = (count) => {\n  const countStr = count.toString();\n  const { length } = countStr.split('');\n  let num = '';\n  if (length > 8) {\n    num = `${countStr.slice(0, length - 8)}亿`;\n  } else if (length > 4) {\n    num = `${countStr.slice(0, length - 4)}万`;\n  } else {\n    num = `${count}`;\n  }\n  return num;\n};\n\nexport const formatDuration = (time = 0) => {\n  const s = Math.floor(time / 1000);\n  let duration = '00:00';\n  if (s < 60 && s > 0) {\n    duration = `00:${s}`;\n  } else {\n    const remainM = {\n      num: Math.floor(s / 60),\n      length: (`${Math.floor(s / 60)}`).length,\n    };\n    const remainS = {\n      num: s - remainM.num * 60,\n      length: (`${s - remainM.num * 60}`).toString().length,\n    };\n    const mm = remainM.length <= 1 ? `0${remainM.num}` : `${remainM.num}`;\n    const ss = remainS.length <= 1 ? `0${remainS.num}` : `${remainS.num}`;\n    duration = `${mm}:${ss}`;\n  }\n  return duration;\n};\n"],"names":["request","Axios","baseURL","timeout","responseType","withCredentials","crossDomain","headers","interceptors","response","use","res","data","error","IconStyle","styled","props","fontSize","color","name","withRouter","Target","location","useLocation","params","useParams","navigate","useNavigate","useLazyImg","imgList","useState","showList","setShowList","useEffect","length","promiseImg","map","item","Promise","resolve","reject","img","Image","onload","Error","src","all","then","list","type","blurPicUrl","picUrl","djDesc","desciption","dj","nickname","program","height","id","imageList","al","song","artists","i","join","listCommon","itemCommon","BoutiqueListStyle","BoutiqueItem","BoutiqueItemImg","BoutiqueItemTitle","background","BoutiqueItemMask","SpanTitle","DjprogramListStyle","DjprogramItem","DjprogramItemImgWrapper","DjprogramItemImg","DjprogramItemImgMask","DjprogramItemDesc","DjprogramItemSongName","DjprogramItemDjDesc","NewSongListStyle","NewSongItemImgMask","NewSongItemAdd","NewSongItem","NewSongItemImgWrapper","NewSongItemImg","NewSongItemDesc","NewSongItemName","NewSongItemArtist","imgurl16v9","coverUrl","cover","playCount","calculatePlayCount","formatDuration","duration","durationms","title","vid","MvListStyle","MvListItem","ImgMaskWrapper","ImgMask","ItemPlayCount","ItemDuration","MvListItemImg","SingerDescStyle","SingerDescTitle","SingerDescContent","SingerDetailStyle","SingerDetailTop","SingerDetailAvatar","DetailAvatarBottom","SingerDetailBottom","DetailBottomTitle","DetailBottomSubTitle","artics","briefDesc","detail","setDetail","topSongs","setTopSongs","hotAlbum","setHotAlbum","mvList","setMvList","artist","hotSongs","slice","limit","hotAlbums","mvs","getData","onClick","count","countStr","toString","split","time","s","Math","floor","remainM","num","remainS","mm","ss"],"sourceRoot":""}