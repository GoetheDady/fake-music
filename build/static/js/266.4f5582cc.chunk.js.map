{"version":3,"file":"static/js/266.4f5582cc.chunk.js","mappings":"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","sources":["api/index.js","hooks/index.js","pages/singer/style.js","pages/singer/components/style.js","pages/singer/constants/index.js","pages/singer/components/selectOptions.js","pages/singer/components/singerList.js","pages/singer/index.js","components/popupWindow/index.js","utils/index.js","../node_modules/lodash/_baseFlatten.js","../node_modules/lodash/_copyArray.js","../node_modules/lodash/_isFlattenable.js","../node_modules/lodash/concat.js"],"sourcesContent":["import Axios from 'axios';\nimport { message } from '../utils';\n\nconst request = Axios.create({\n  baseURL: 'http://localhost:4000/', // api 的 base_url\n  timeout: 5000, // request timeout  设置请求超时时间\n  responseType: 'json',\n  withCredentials: true, // 是否允许带cookie这些\n  crossDomain: true,\n  headers: {\n    'Content-Type': 'application/json;charset=utf-8',\n  },\n});\n\nrequest.interceptors.response.use(\n  (res) => res.data, // 这里直接返回data, 即接口返回的所有数据\n  (error) => {\n    const { response: { data: { code, msg, message: sysMessage }, data } } = error;\n    if (code === 301) {\n      message({\n        type: 'error',\n        msg,\n        message: sysMessage,\n      });\n    }\n    return data;\n  },\n);\n\nexport default request;\n","import { useLocation, useParams, useNavigate } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\n\nexport function withRouter(Target) {\n  // eslint-disable-next-line func-names\n  return function (props) {\n    const location = useLocation();\n    const params = useParams();\n    const navigate = useNavigate();\n    return <Target location={location} params={params} navigate={navigate} />;\n  };\n}\n\nexport function useLazyImg(imgList) {\n  const [showList, setShowList] = useState(false);\n\n  useEffect(() => {\n    if (imgList.length !== 0) {\n      const promiseImg = imgList.map((item) => new Promise((resolve, reject) => {\n        const img = new Image();\n        img.onload = () => {\n          img.onload = null;\n          resolve(img);\n        };\n        img.error = () => {\n          reject(new Error('图片加载失败'));\n        };\n        img.src = item;\n      }));\n      Promise.all(promiseImg).then((res) => {\n        setShowList(true);\n      });\n    }\n  }, [imgList]);\n  return imgList.length === 0 ? false : showList;\n}\n","import styled from 'styled-components';\n\nexport const SingerStyle = styled.div`\n  width: 100%;\n  padding: 30px;\n  overflow: auto;\n  scrollbar-width: none;\n  &::-webkit-scrollbar {\n    display: none; /* Chrome Safari */\n  }\n`;\n\nexport const BottomLoading = styled.div`\n  position: relative;\n  height: 40px;\n`;\n","import styled from 'styled-components';\n\nexport const SelectOptionsStyle = styled.div`\n  width: 100%;\n  font-size: 14px;\n`;\n\nexport const SelectOption = styled.div`\n  display: flex;\n  width: 100%;\n  margin-bottom: 10px;\n`;\n\nexport const SelectOptionLabel = styled.div`\n  width: 60px;\n`;\n\nexport const SelectOptionContent = styled.div`\n  display: flex;\n  /* grid-template-columns: repeat(auto-fill, 100px); */\n  width: 100%;\n  flex: 1;\n  flex-wrap: wrap;\n`;\n\nexport const SelectOptionItem = styled.div`\n  display: flex;\n  font-size: 12px;\n  padding: 0 15px;\n  cursor: default;\n  user-select: none;\n  height: 20px;\n  background-color: rgba(155, 178, 210, .2);\n  align-items: center;\n  border-radius: 10px;\n  margin-right: 10px;\n  margin-bottom: 15px;\n  &:hover {\n    background-color: rgba(155, 178, 210, .6);\n  }\n  &.active {\n    background-color: rgba(155, 178, 210, .6);\n  }\n`;\n\nexport const SingerListStyle = styled.div`\n  min-height: 200px;\n  display: grid;\n  width: 100%;\n  grid-template-columns: repeat(5, 170px);\n  justify-content: space-between;\n  grid-column-gap: 15px;\n  grid-row-gap: 30px;\n  font-size: 14px;\n`;\n\nexport const SingerListItem = styled.div`\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  user-select: none;\n  cursor: pointer;\n`;\n\nexport const ListItemImg = styled.img`\n  width: 100%;\n  height: 170px;\n  margin-bottom: 5px;\n  border-radius: 8px;\n`;\n\nexport const ListItemInfo = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nexport const ListItemName = styled.div``;\n","export const TYPE_ENUM = [{\n  label: '全部',\n  value: -1,\n}, {\n  label: '男歌手',\n  value: 1,\n}, {\n  label: '女歌手',\n  value: 2,\n}, {\n  label: '乐队',\n  value: 3,\n}];\n\nexport const AREA_ENUM = [{\n  label: '全部',\n  value: -1,\n}, {\n  label: '华语',\n  value: 7,\n}, {\n  label: '欧美',\n  value: 96,\n}, {\n  label: '日本',\n  value: 8,\n}, {\n  label: '韩国',\n  value: 16,\n}, {\n  label: '其他',\n  value: 0,\n}];\n\nexport const INITIAL_ENUM = [\n  '热门', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '#',\n];\n","import {\n  SelectOptionsStyle, SelectOption, SelectOptionLabel, SelectOptionContent, SelectOptionItem,\n} from './style';\nimport { TYPE_ENUM, AREA_ENUM, INITIAL_ENUM } from '../constants';\n\nfunction SelectOptions({\n  type, area, initial, onChange,\n}) {\n  return (\n    <SelectOptionsStyle>\n      <SelectOption>\n        <SelectOptionLabel>语种：</SelectOptionLabel>\n        <SelectOptionContent>\n          {\n          AREA_ENUM.map((item) => (\n            <SelectOptionItem\n              className={area === item.value && 'active'}\n              key={item.value}\n              onClick={() => { onChange('area', item.value); }}\n            >\n              {item.label}\n            </SelectOptionItem>\n          ))\n        }\n        </SelectOptionContent>\n      </SelectOption>\n      <SelectOption>\n        <SelectOptionLabel>分类：</SelectOptionLabel>\n        <SelectOptionContent>\n          {\n          TYPE_ENUM.map((item) => (\n            <SelectOptionItem\n              className={type === item.value && 'active'}\n              key={item.value}\n              onClick={() => { onChange('type', item.value); }}\n            >\n              {item.label}\n            </SelectOptionItem>\n          ))\n        }\n        </SelectOptionContent>\n      </SelectOption>\n      <SelectOption>\n        <SelectOptionLabel>筛选：</SelectOptionLabel>\n        <SelectOptionContent>\n          {\n          INITIAL_ENUM.map((item) => {\n            let value = '';\n            if (item !== '热门' && item !== '#') {\n              value = item.toLowerCase();\n            } else if (item === '热门') {\n              value = -1;\n            } else if (item === '#') {\n              value = 0;\n            } else {\n              value = -1;\n            }\n            return (\n              <SelectOptionItem\n                className={initial === value && 'active'}\n                key={value}\n                onClick={() => { onChange('initial', value); }}\n              >\n                {item}\n              </SelectOptionItem>\n            );\n          })\n        }\n        </SelectOptionContent>\n      </SelectOption>\n    </SelectOptionsStyle>\n  );\n}\n\nexport default SelectOptions;\n","import { useNavigate } from 'react-router-dom';\nimport {\n  SingerListStyle, SingerListItem, ListItemImg, ListItemInfo, ListItemName,\n} from './style';\nimport Icon from '../../../components/icon';\n\nfunction SingerList({ list }) {\n  const navigate = useNavigate();\n  return (\n    <SingerListStyle>\n      {\n        list.map((item) => (\n          <SingerListItem\n            key={item.id}\n            onClick={() => {\n              navigate(`/singerDetail/${item.id}`);\n            }}\n          >\n            <ListItemImg src={item.img1v1Url} />\n            <ListItemInfo>\n              <ListItemName>{item.name}</ListItemName>\n              {\n                item.accountId && <Icon name=\"person-circle\" fontSize=\"16px\" color=\"#9BB2D2\" />\n              }\n            </ListItemInfo>\n          </SingerListItem>\n        ))\n      }\n    </SingerListStyle>\n  );\n}\n\nexport default SingerList;\n","import React, { Component, createRef } from 'react';\nimport _concat from 'lodash/concat';\nimport {\n  SingerStyle, BottomLoading,\n} from './style';\nimport SelectOptions from './components/selectOptions';\nimport Loading from '../../components/loading';\nimport request from '../../api';\nimport SingerList from './components/singerList';\nimport { useLazyImg } from '../../hooks';\n\nclass Singer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      type: -1,\n      area: -1,\n      initial: -1,\n      list: [],\n      loadingList: true,\n      showLoading: true,\n    };\n    this.loadingDom = createRef();\n    this.listDom = createRef();\n  }\n\n  componentDidMount() {\n    const { listDom, loadingDom } = this;\n    this.getList();\n    listDom.current.onscroll = () => {\n      const listTop = listDom.current.getBoundingClientRect().top;\n      const loadingTop = loadingDom.current.getBoundingClientRect().top;\n      if ((loadingTop - listTop - 630) < 0) {\n        this.debounceLoadList();\n      }\n    };\n  }\n\n  componentWillUnmount() {\n    this.listDom.current.onscroll = null;\n  }\n\n  async getList() {\n    const {\n      type, area, initial, list,\n    } = this.state;\n    const { artists, more } = await request.get('/artist/list', {\n      params: {\n        limit: 15,\n        offset: list.length,\n        type,\n        area,\n        initial,\n      },\n    });\n    const artistsList = artists.map((item) => new Promise((resolve, reject) => {\n      const img = new Image();\n      img.onload = () => {\n        img.onload = null;\n        resolve(img);\n      };\n      img.error = () => {\n        reject(new Error('图片加载失败'));\n      };\n      img.src = item.img1v1Url;\n    }));\n\n    await Promise.all(artistsList);\n    const newList = _concat(list, artists);\n    if (!more) {\n      this.listDom.current.onscroll = null;\n    }\n    this.setState(() => ({\n      list: newList,\n      loadingList: true,\n      showLoading: more,\n    }));\n  }\n\n  optionsOnChange = (option, value) => {\n    // eslint-disable-next-line react/destructuring-assignment\n    if (this.state[option] === value) {\n      return;\n    }\n    this.setState(() => ({\n      [`${option}`]: value,\n      list: [],\n    }), () => {\n      this.getList();\n    });\n  };\n\n  debounceLoadList() {\n    const { loadingList } = this.state;\n    if (!loadingList) {\n      return;\n    }\n    this.setState(() => ({\n      loadingList: false,\n    }), this.getList);\n  }\n\n  render() {\n    const {\n      type, area, initial, showLoading, list,\n    } = this.state;\n    return (\n      <SingerStyle ref={this.listDom}>\n        <SelectOptions\n          type={type}\n          area={area}\n          initial={initial}\n          onChange={this.optionsOnChange}\n        />\n        <SingerList list={list} />\n        {\n          showLoading && (\n            <BottomLoading ref={this.loadingDom}>\n              <Loading />\n            </BottomLoading>\n          )\n        }\n      </SingerStyle>\n    );\n  }\n}\n\nexport default Singer;\n","import { useEffect } from 'react';\nimport styled from 'styled-components';\nimport Icon from '../icon';\n\nconst PopupWindowStyle = styled.div`\n  position: fixed;\n  top: 8px;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n`;\n\nconst PopupContent = styled.div`\n  display: flex;\n  padding: 10px 16px;\n  background: #fff;\n  border-radius: 2px;\n  box-shadow: 0 3px 6px -4px #0000001f,0 6px 16px #00000014,0 9px 28px 8px #0000000d;\n  font-size: 14px;\n  align-items: center;\n`;\n\nfunction PopupWindow(props) {\n  const {\n    destroy, message, msg, type,\n  } = props;\n  let iconConfig = {\n    name: 'close-circle-sharp',\n    color: 'red',\n  };\n  if (type === 'error') {\n    iconConfig = {\n      name: 'close-circle-sharp',\n      color: 'red',\n    };\n  }\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      destroy();\n    }, 3000);\n    return () => {\n      clearTimeout(timer);\n    };\n  });\n  return (\n    <PopupWindowStyle>\n      <PopupContent>\n        <Icon {...iconConfig} fontSize=\"18px\" />\n        {`${message}: ${msg}`}\n      </PopupContent>\n    </PopupWindowStyle>\n  );\n}\n\nexport default PopupWindow;\n","import ReactDom, { createPortal } from 'react-dom';\nimport PopupWindow from '../components/popupWindow';\n\nexport const calculatePlayCount = (count) => {\n  const countStr = count.toString();\n  const { length } = countStr.split('');\n  let num = '';\n  if (length > 8) {\n    num = `${countStr.slice(0, length - 8)}亿`;\n  } else if (length > 4) {\n    num = `${countStr.slice(0, length - 4)}万`;\n  } else {\n    num = `${count}`;\n  }\n  return num;\n};\n\nexport const formatDuration = (time = 0) => {\n  const s = Math.floor(time / 1000);\n  let duration = '00:00';\n  if (s < 60 && s > 0) {\n    duration = `00:${s}`;\n  } else {\n    const remainM = {\n      num: Math.floor(s / 60),\n      length: (`${Math.floor(s / 60)}`).length,\n    };\n    const remainS = {\n      num: s - remainM.num * 60,\n      length: (`${s - remainM.num * 60}`).toString().length,\n    };\n    const mm = remainM.length <= 1 ? `0${remainM.num}` : `${remainM.num}`;\n    const ss = remainS.length <= 1 ? `0${remainS.num}` : `${remainS.num}`;\n    duration = `${mm}:${ss}`;\n  }\n  return duration;\n};\n\nexport const message = (props) => {\n  let div = document.querySelector('#popup-window');\n  if (!div) {\n    div = document.createElement('div');\n    div.setAttribute('id', 'popup-window');\n    document.body.appendChild(div);\n  }\n\n  const currentConfig = { ...props };\n\n  const destroy = () => {\n    const unmountResult = ReactDom.unmountComponentAtNode(div);\n    if (unmountResult && div.parentNode) {\n      div.parentNode.removeChild(div);\n    }\n  };\n\n  const render = (config) => {\n    ReactDom.render(\n      <PopupWindow destroy={destroy} {...config} />,\n      div,\n    );\n  };\n\n  render(currentConfig);\n};\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var arrayPush = require('./_arrayPush'),\n    baseFlatten = require('./_baseFlatten'),\n    copyArray = require('./_copyArray'),\n    isArray = require('./isArray');\n\n/**\n * Creates a new array concatenating `array` with any additional arrays\n * and/or values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to concatenate.\n * @param {...*} [values] The values to concatenate.\n * @returns {Array} Returns the new concatenated array.\n * @example\n *\n * var array = [1];\n * var other = _.concat(array, 2, [3], [[4]]);\n *\n * console.log(other);\n * // => [1, 2, 3, [4]]\n *\n * console.log(array);\n * // => [1]\n */\nfunction concat() {\n  var length = arguments.length;\n  if (!length) {\n    return [];\n  }\n  var args = Array(length - 1),\n      array = arguments[0],\n      index = length;\n\n  while (index--) {\n    args[index - 1] = arguments[index];\n  }\n  return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n}\n\nmodule.exports = concat;\n"],"names":["request","Axios","baseURL","timeout","responseType","withCredentials","crossDomain","headers","interceptors","response","use","res","data","error","code","msg","sysMessage","message","type","withRouter","Target","props","location","useLocation","params","useParams","navigate","useNavigate","useLazyImg","imgList","useState","showList","setShowList","useEffect","length","promiseImg","map","item","Promise","resolve","reject","img","Image","onload","Error","src","all","then","SingerStyle","styled","BottomLoading","SelectOptionsStyle","SelectOption","SelectOptionLabel","SelectOptionContent","SelectOptionItem","SingerListStyle","SingerListItem","ListItemImg","ListItemInfo","ListItemName","TYPE_ENUM","label","value","AREA_ENUM","INITIAL_ENUM","area","initial","onChange","className","onClick","toLowerCase","list","id","img1v1Url","name","accountId","fontSize","color","Singer","optionsOnChange","option","state","setState","getList","loadingList","showLoading","loadingDom","createRef","listDom","this","current","onscroll","listTop","getBoundingClientRect","top","debounceLoadList","limit","offset","artists","more","artistsList","newList","_concat","ref","Component","PopupWindowStyle","PopupContent","destroy","iconConfig","timer","setTimeout","clearTimeout","calculatePlayCount","count","countStr","toString","split","slice","formatDuration","time","s","Math","floor","duration","remainM","num","remainS","mm","ss","div","document","querySelector","createElement","setAttribute","body","appendChild","config","currentConfig","ReactDom","parentNode","removeChild","arrayPush","require","isFlattenable","module","exports","baseFlatten","array","depth","predicate","isStrict","result","index","source","Array","Symbol","isArguments","isArray","spreadableSymbol","isConcatSpreadable","undefined","copyArray","arguments","args"],"sourceRoot":""}