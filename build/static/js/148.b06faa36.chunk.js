"use strict";(self.webpackChunkmusic=self.webpackChunkmusic||[]).push([[148],{9396:function(n,t,e){var i=e(4569),r=e.n(i),o=e(3567),c=r().create({baseURL:"http://localhost:4000/",timeout:5e3,responseType:"json",withCredentials:!0,crossDomain:!0,headers:{"Content-Type":"application/json;charset=utf-8"}});c.interceptors.response.use((function(n){return n.data}),(function(n){var t=n.response,e=t.data,i=e.code,r=e.msg,c=e.message,a=t.data;return 301===i&&(0,o.yw)({type:"error",msg:r,message:c}),a})),t.Z=c},4717:function(n,t,e){e.d(t,{E:function(){return a},d:function(){return s}});var i=e(885),r=e(6871),o=e(2791),c=e(184);function a(n){return function(t){var e=(0,r.TH)(),i=(0,r.UO)(),o=(0,r.s0)();return(0,c.jsx)(n,{location:e,params:i,navigate:o})}}function s(n){var t=(0,o.useState)(!1),e=(0,i.Z)(t,2),r=e[0],c=e[1];return(0,o.useEffect)((function(){if(0!==n.length){var t=n.map((function(n){return new Promise((function(t,e){var i=new Image;i.onload=function(){i.onload=null,t(i)},i.error=function(){e(new Error("\u56fe\u7247\u52a0\u8f7d\u5931\u8d25"))},i.src=n}))}));Promise.all(t).then((function(n){c(!0)}))}}),[n]),0!==n.length&&r}},2037:function(n,t,e){var i=e(6871),r=e(6203),o=e(1241),c=e(3567),a=e(4717),s=e(184);t.Z=function(n){var t=n.list,e=void 0===t?[]:t,u=(0,i.s0)(),l=(0,a.d)(e.map((function(n){return n.picUrl||n.coverImgUrl})));return(0,s.jsx)(r.Sv,{height:"284px",length:e.length,children:l&&0!==e.length?e.map((function(n){return(0,s.jsxs)(r.CO,{onClick:function(){u("/songListDetail/".concat(n.id))},children:[(0,s.jsx)(r.Zx,{src:n.picUrl||n.coverImgUrl}),(0,s.jsxs)(r._m,{background:n.picUrl,children:[(0,s.jsx)(r.y2,{children:n.name}),(0,s.jsxs)(r.y2,{children:[(0,s.jsx)("ion-icon",{name:"play-outline"}),(0,c.lt)(n.playCount)]})]}),(0,s.jsx)(r.WD,{})]},n.id)})):(0,s.jsx)(o.Z,{})})}},5297:function(n,t,e){e(2791);var i=e(6203),r=e(1241),o=e(4717),c=e(184);t.Z=function(n){var t=n.list,e=void 0===t?[]:t,a=n.type,s=void 0===a?"":a,u=n.length,l=void 0===u?6:u,d=(0,o.d)(e.map((function(n){return"singer"===s?n.blurPicUrl:n.picUrl}))),p=function(n){switch(s){case"singer":return n.desciption;case"radio":return n.dj.nickname;default:return n.program.dj.nickname}};return(0,c.jsx)(i.ap,{height:"228px",length:l,children:d&&0!==e.length?e.map((function(n){return(0,c.jsxs)(i.q1,{children:[(0,c.jsxs)(i.GU,{children:[(0,c.jsx)(i._v,{src:"singer"===s?n.blurPicUrl:n.picUrl}),(0,c.jsx)(i.NR,{})]}),(0,c.jsxs)(i.HV,{children:[(0,c.jsx)(i.v5,{children:n.name}),(0,c.jsx)(i.AD,{children:p(n)})]})]},n.id)})):(0,c.jsx)(r.Z,{})})}},1409:function(n,t,e){var i=e(6203),r=e(1241),o=e(4717),c=e(184);t.Z=function(n){var t=n.list,e=void 0===t?[]:t,a=n.type,s=void 0===a?"":a,u=e.map((function(n){var t;return"singer"===s?null===(t=n.al)||void 0===t?void 0:t.picUrl:n.picUrl})),l=(0,o.d)(u);return(0,c.jsx)(i.pA,{height:"180px",children:l&&0!==e.length?e.map((function(n){var t;return(0,c.jsxs)(i.NV,{children:[(0,c.jsxs)(i.$E,{children:[(0,c.jsx)(i.Qo,{src:"singer"===s?null===(t=n.al)||void 0===t?void 0:t.picUrl:n.picUrl}),(0,c.jsx)(i.B5,{children:(0,c.jsx)("ion-icon",{name:"play"})})]}),(0,c.jsxs)(i.U1,{children:[(0,c.jsx)(i.XD,{children:n.name}),(0,c.jsx)(i.Rg,{children:"singer"===s?n.al.name:n.song.artists.map((function(n){return n.name})).join("/")})]}),(0,c.jsx)(i.t3,{children:(0,c.jsx)("ion-icon",{name:"add-outline"})})]},n.id)})):(0,c.jsx)(r.Z,{})})}},6203:function(n,t,e){e.d(t,{$E:function(){return X},AD:function(){return O},B5:function(){return G},CO:function(){return E},GU:function(){return q},HV:function(){return L},NR:function(){return I},NV:function(){return W},Qo:function(){return $},Rg:function(){return K},Sv:function(){return D},U1:function(){return F},WD:function(){return R},XD:function(){return J},Zx:function(){return N},_m:function(){return A},_v:function(){return H},ap:function(){return V},pA:function(){return B},q1:function(){return _},t3:function(){return Q},v5:function(){return M},y2:function(){return T}});var i,r,o,c,a,s,u,l,d,p,f,h,g,x,m,v,Z,b,j,w,y,P,k,U=e(168),z=e(5751),C="\n  display: grid;\n  grid-column-gap: 20px;\n  width: 100%;\n  overflow-x: auto;\n  scrollbar-width: none;\n  position: relative;\n  &::-webkit-scrollbar {\n    display: none; /* Chrome Safari */\n  }\n",S="\n  flex-shrink: 0;\n  position: relative;\n  border-radius: 8px;\n  overflow: hidden;\n",D=z.ZP.div(i||(i=(0,U.Z)(["\n  ","\n  height: ",";\n  grid-template-columns: repeat(",", 214px);\n"])),C,(function(n){return n.height||"auto"}),(function(n){return n.length})),E=z.ZP.div(r||(r=(0,U.Z)(["\n  height: 284px;\n  ","\n"])),S),N=z.ZP.img(o||(o=(0,U.Z)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"]))),A=z.ZP.div(c||(c=(0,U.Z)(["\n  position: absolute;\n  height: 70px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-image: url(",");\n  background-size: 200%;\n  background-position: 50%;\n  background: rgba(0, 0, 0, .4);\n  backdrop-filter: blur(10px);\n  font-size: 12px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"])),(function(n){return n.background})),R=z.ZP.div(a||(a=(0,U.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 70px;\n  opacity: 1;\n  transition: all .5s;\n  background: transparent;\n  &:hover {\n    background: #000;\n    opacity: .4;\n  }\n"]))),T=z.ZP.span(s||(s=(0,U.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 5px;\n  padding: 0 20px;\n  > *{\n    margin-right: 4px;\n  }\n"]))),V=z.ZP.div(u||(u=(0,U.Z)(["\n  ","\n  grid-template-columns: repeat(",", 186px);\n  height: ",";\n"])),C,(function(n){return n.length}),(function(n){return n.height||"auto"})),_=z.ZP.div(l||(l=(0,U.Z)(["\n  ","\n"])),S),q=z.ZP.div(d||(d=(0,U.Z)(["\n  width: 100%;\n  height: 186px;\n  margin-bottom: 10px;\n  position: relative;\n"]))),H=z.ZP.img(p||(p=(0,U.Z)(["\n  width: 100%;\n  height: 100%;\n  border-radius: 8px;\n  object-fit: cover;\n"]))),I=z.ZP.div(f||(f=(0,U.Z)(["\n  object-fit: cover;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  opacity: 1;\n  transition: all .5s;\n  background: transparent;\n  &:hover {\n    background: #000;\n    opacity: .4;\n  }\n"]))),L=z.ZP.div(h||(h=(0,U.Z)(["\n  width: 100%;\n  padding: 0 5px;\n  box-sizing: border-box;\n"]))),M=z.ZP.div(g||(g=(0,U.Z)(["\n  width: 100%;\n  font-size: 14px;\n  font-weight: 500;\n  margin-bottom: 2px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),O=z.ZP.div(x||(x=(0,U.Z)(["\n  width: 100%;\n  font-size: 12px;\n  font-weight: 300;\n"]))),B=z.ZP.div(m||(m=(0,U.Z)(["\n  display: grid;\n  grid-template-columns: 310px 310px 310px;\n  grid-template-rows: 60px 60px 60px;\n  justify-content: space-between;\n  grid-template-areas:  'a b c'\n                        'd e f'\n                        'g h i';\n  position: relative;\n  height: ",";\n"])),(function(n){return n.height||"auto"})),G=z.ZP.div(v||(v=(0,U.Z)(["\n  display: flex;\n  justify-content: center;\n  font-size: 20px;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  opacity: 0;\n  transition: all .5s;\n  background: rgba(0, 0, 0, .4);\n"]))),Q=z.ZP.div(Z||(Z=(0,U.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 30px;\n  font-size: 20px;\n  opacity: 0;\n  >ion-icon {\n    cursor: pointer;\n    &:active {\n      color: grey;\n    }\n  }\n"]))),W=z.ZP.div(b||(b=(0,U.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: .5px solid rgba(0, 0, 0, .1);\n  &:hover {\n    "," {\n      opacity: 1;\n    }\n    "," {\n      opacity: 1;\n    }\n  }\n"])),G,Q),X=z.ZP.div(j||(j=(0,U.Z)(["\n  width: 40px;\n  height: 40px;\n  border-radius: 4px;\n  overflow: hidden;\n  margin-right: 10px;\n  position: relative;\n"]))),$=z.ZP.img(w||(w=(0,U.Z)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n"]))),F=z.ZP.div(y||(y=(0,U.Z)(["\n  flex: 1;\n"]))),J=z.ZP.div(P||(P=(0,U.Z)(["\n  font-size: 14px;\n  margin-bottom: 2px;\n"]))),K=z.ZP.div(k||(k=(0,U.Z)(["\n  font-size: 12px;\n  font-weight: 300;\n"])))},6148:function(n,t,e){e.r(t),e.d(t,{default:function(){return j}});var i,r,o,c=e(5861),a=e(885),s=e(7757),u=e.n(s),l=e(2791),d=e(168),p=e(5751),f=p.ZP.div(i||(i=(0,d.Z)(["\n  width: 100%;\n  height: 100%;\n  padding: 30px;\n  padding-bottom: 0;\n  overflow: hidden;\n  box-sizing: border-box;\n  overflow: auto;\n  scrollbar-width: none;\n  &::-webkit-scrollbar {\n    display: none; /* Chrome Safari */\n  }\n"]))),h=p.ZP.div(r||(r=(0,d.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  margin-bottom: 20px;\n"]))),g=p.ZP.div(o||(o=(0,d.Z)(["\n  width: 100%;\n  border-bottom: 1px solid grey;\n  padding-bottom: 10px;\n  margin-bottom: 10px;\n"]))),x=e(2037),m=e(1409),v=e(5297),Z=e(9396),b=e(184);var j=function(){var n=(0,l.useState)([]),t=(0,a.Z)(n,2),e=t[0],i=t[1],r=(0,l.useState)([]),o=(0,a.Z)(r,2),s=o[0],d=o[1],p=(0,l.useState)([]),j=(0,a.Z)(p,2),w=j[0],y=j[1];return(0,l.useEffect)((function(){var n=function(){var n=(0,c.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Z.Z.get("/personalized?limit=6").then((function(n){var t=n.result;i(t)})),Z.Z.get("/personalized/newsong?limit=9").then((function(n){var t=n.result;d(t)})),Z.Z.get("/personalized/djprogram").then((function(n){var t=n.result;y(t)}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),(0,b.jsxs)(f,{children:[(0,b.jsxs)(h,{children:[(0,b.jsx)(g,{children:"\u7cbe\u54c1\u63a8\u8350"}),(0,b.jsx)(x.Z,{list:e})]}),(0,b.jsxs)(h,{children:[(0,b.jsx)(g,{children:"\u65b0\u6b4c\u7cbe\u9009"}),(0,b.jsx)(m.Z,{list:s})]}),(0,b.jsxs)(h,{children:[(0,b.jsx)(g,{children:"\u63a8\u8350\u7535\u53f0"}),(0,b.jsx)(v.Z,{list:w})]})]})}},3567:function(n,t,e){e.d(t,{lt:function(){return g},LU:function(){return x},yw:function(){return m}});var i,r,o=e(1413),c=e(4164),a=e(168),s=e(2791),u=e(5751),l=e(5232),d=e(184),p=u.ZP.div(i||(i=(0,a.Z)(["\n  position: fixed;\n  top: 8px;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n"]))),f=u.ZP.div(r||(r=(0,a.Z)(["\n  display: flex;\n  padding: 10px 16px;\n  background: #fff;\n  border-radius: 2px;\n  box-shadow: 0 3px 6px -4px #0000001f,0 6px 16px #00000014,0 9px 28px 8px #0000000d;\n  font-size: 14px;\n  align-items: center;\n"])));var h=function(n){var t=n.destroy,e=n.message,i=n.msg,r={name:"close-circle-sharp",color:"red"};return"error"===n.type&&(r={name:"close-circle-sharp",color:"red"}),(0,s.useEffect)((function(){var n=setTimeout((function(){t()}),3e3);return function(){clearTimeout(n)}})),(0,d.jsx)(p,{children:(0,d.jsxs)(f,{children:[(0,d.jsx)(l.Z,(0,o.Z)((0,o.Z)({},r),{},{fontSize:"18px"})),"".concat(e,": ").concat(i)]})})},g=function(n){var t=n.toString(),e=t.split("").length;return e>8?"".concat(t.slice(0,e-8),"\u4ebf"):e>4?"".concat(t.slice(0,e-4),"\u4e07"):"".concat(n)},x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Math.floor(n/1e3),e="00:00";if(t<60&&t>0)e="00:".concat(t);else{var i={num:Math.floor(t/60),length:"".concat(Math.floor(t/60)).length},r={num:t-60*i.num,length:"".concat(t-60*i.num).toString().length},o=i.length<=1?"0".concat(i.num):"".concat(i.num),c=r.length<=1?"0".concat(r.num):"".concat(r.num);e="".concat(o,":").concat(c)}return e},m=function(n){var t=document.querySelector("#popup-window");t||((t=document.createElement("div")).setAttribute("id","popup-window"),document.body.appendChild(t));var e,i=(0,o.Z)({},n),r=function(){c.unmountComponentAtNode(t)&&t.parentNode&&t.parentNode.removeChild(t)};e=i,c.render((0,d.jsx)(h,(0,o.Z)({destroy:r},e)),t)}}}]);
//# sourceMappingURL=148.b06faa36.chunk.js.map